import{_ as y}from"./BBRyHoPz.js";import{_ as R}from"./CaY2nQe0.js";import{_ as C}from"./D_qFwxji.js";import{d as A,c as n,o as t,h as s,F as m,g as b,i as c,k as h,t as l,z as f,a as j}from"./BZioxkpp.js";import{_ as P}from"./B9urnu4C.js";import{_ as k}from"./BEKLIA7C.js";const S={key:0,class:"mr-2"},T={key:0},D={key:1},V={key:2},$={key:0},x={class:"font-extrabold font-mono"},v=A({__name:"DurabilityConditions",props:{obj:{},card:{},prefix:{}},setup(a){const u=a,p={RequiredSpoilagePercent:"SpoilageTime",RequiredUsagePercent:"UsageDurability",RequiredFuelPercent:"FuelCapacity",RequiredProgressPercent:"Progress",RequiredSpecial1Percent:"SpecialDurability1",RequiredSpecial2Percent:"SpecialDurability2",RequiredSpecial3Percent:"SpecialDurability3",RequiredSpecial4Percent:"SpecialDurability4"},o=Object.keys(p);let d=0;const _=o.map(e=>{var r;return{change:u.obj[e],durability:(r=u.card)==null?void 0:r[p[e]]}}).filter(e=>e==null?void 0:e.change.Active);function g(e,r){return{x:e.FloatValue*r,y:e.FloatValue>e.MaxValue?1*r:e.MaxValue*r}}return(e,r)=>{const q=y;return t(),n("span",null,[(t(!0),n(m,null,b(h(_),(i,z)=>(t(),n(m,null,[i!=null&&i.change.Active?(t(),n("span",S,[h(d)==0?(t(),n("span",T,l(e.prefix??""),1)):s("",!0),c(C,{"v-if":e.card,obj:i.durability},null,8,["v-if","obj"]),i.change.MaxValue>=1?(t(),n("span",D,[r[0]||(r[0]=f(" ≥ ")),c(q,{number:Math.round(i.change.FloatValue*i.durability.MaxValue),"no-sign":"",max:i.durability.MaxValue},null,8,["number","max"])])):(t(),n("span",V,[r[1]||(r[1]=f(" =")),c(R,{obj:g(i.change,i.durability.MaxValue),sign:!1,max:i.durability.MaxValue},null,8,["obj","max"])]))])):s("",!0)],64))),256)),e.obj.RequiredLiquidQuantity?(t(),n("span",$,[f(l(e.$t("需要液体量"))+"：",1),j("span",x,l(e.obj.RequiredLiquidQuantity),1)])):s("",!0)])}}}),W=Object.assign(v,{__name:"DurabilityConditions"});function M(a){return{0:"场上的所有",1:"装备中的所有",2:"给定的",3:"所有手牌",4:"手牌中的一张",5:"基地中的所有",6:"当前位置的所有",7:"容器内的所有",8:"给定容器内的所有"}[a]}const F={key:0},N={key:0},O={key:0},L={key:0},E={key:1},B={key:2},Q={key:3},U=A({__name:"ExtraDurabilityChange",props:{obj:{}},setup(a){const u=a;function p(){if(u.obj.AffectedCards.length>0)return u.obj.AffectedCards[0];if(u.obj.AffectedTags.length>0)return u.obj.AffectedTags[0]}return(o,d)=>{const _=P,g=k;return o.obj.AffectedCards.filter(e=>!!e).length>0||o.obj.AffectedTags.filter(e=>!!e).length>0||o.obj.NOTAffectedThings.filter(e=>!!e).length>0?(t(),n("span",F,[f(l(o.$t(h(M)(o.obj.AppliesTo)))+" ",1),(t(!0),n(m,null,b(o.obj.AffectedCards.concat(o.obj.AffectedTags),(e,r)=>(t(),n("span",null,[r>0?(t(),n("span",N," / ")):s("",!0),c(_,{obj:e},null,8,["obj"])]))),256)),o.obj.NOTAffectedThings.length>0?(t(),n("span",O,[d[0]||(d[0]=j("span",null,"除了",-1)),(t(!0),n(m,null,b(o.obj.NOTAffectedThings,(e,r)=>(t(),n("span",null,[r>0?(t(),n("span",L," / ")):s("",!0),c(_,{obj:e.Target},null,8,["obj"])]))),256))])):s("",!0),o.obj.CardChanges==1?(t(),n("span",E," 消失 ")):s("",!0),o.obj.CardChanges==0?(t(),n("span",B,[j("span",null,[c(g,{obj:o.obj,card:p()},null,8,["obj","card"])])])):s("",!0),o.obj.RandomlyAffectedCards?(t(),n("span",Q,l(o.$t("(随机)")),1)):s("",!0)])):s("",!0)}}}),X=Object.assign(U,{__name:"ExtraDurabilityChange"});function Y(a){return a.RequiredSpoilagePercent.Active||a.RequiredUsagePercent.Active||a.RequiredFuelPercent.Active||a.RequiredProgressPercent.Active||a.RequiredLiquidQuantity>0||a.RequiredSpecial1Percent.Active||a.RequiredSpecial2Percent.Active||a.RequiredSpecial3Percent.Active||a.RequiredSpecial4Percent.Active}export{W as _,X as a,Y as i};
