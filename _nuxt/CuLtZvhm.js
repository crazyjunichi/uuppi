import{_ as E}from"./BRakbqO6.js";import{_ as L}from"./Dr5xrtTs.js";import{_ as M}from"./PFLRDySK.js";import{_ as G}from"./CiU6GFhr.js";import{i as A,_ as N,a as U}from"./JAoEc1-0.js";import{_ as F}from"./B3mfEb-Z.js";import{_ as Q}from"./C5aev7Hv.js";import{_ as P}from"./B_EVT6TO.js";import{_ as k}from"./BYLymQyx.js";import{_ as z}from"./CTTjgqJ3.js";import{_ as T}from"./DZJkLChK.js";import{G as H,a as K}from"./BIEcodB8.js";import{g as J}from"./C3jHlhTY.js";import{d as W,u as X,n as Y,c as n,h as s,o as e,a as l,t as i,F as u,g as c,b as _,z as o,i as a,x as B,k as m,B as Z}from"./BpWfJitR.js";function tt(y){return y.RequiredCard?y.RequiredCard:y.RequiredTabGroup?y.RequiredTabGroup:null}function et(y){let C=tt(y);return C?[{key:"Spoilage",value:y.Spoilage,durability:C.SpoilageTime},{key:"Usage",value:y.Usage,durability:C.UsageDurability},{key:"Fuel",value:y.Fuel,durability:C.FuelCapacity},{key:"Progress",value:y.Progress,durability:C.Progress},{key:"Special1",value:y.Special1,durability:C.SpecialDurability1},{key:"Special2",value:y.Special2,durability:C.SpecialDurability2},{key:"Special3",value:y.Special3,durability:C.SpecialDurability3},{key:"Special4",value:y.Special4,durability:C.SpecialDurability4}].filter(h=>y[h.key].Active):[]}const nt={key:0},rt={key:0,class:"flex flex-wrap gap-2"},it={key:0,class:"text-xs text-gray-400"},ot={key:1,class:"text-xs text-gray-400"},lt={key:0,class:"text-xs text-gray-400"},at={key:1,class:"text-xs text-gray-400"},st={key:1},ut={class:"flex flex-wrap gap-2"},dt={key:0},pt={key:2},bt={key:3,class:"flex flex-wrap gap-2"},ct={class:"w-full"},gt={class:"title text-2xl my-4"},yt={class:"flex flex-row-reverse text-sm"},_t={class:"mx-1"},Ct={class:"space-y-4"},ft={class:"flex border-b-1 border-current/20"},jt={class:"w-[85px] flex-none"},mt={key:0},ht={class:"is-family-primary has-text-weight-bold text-sm font-mono font-bold align-bottom"},vt={key:1,class:"text-smaller"},kt={key:0,class:"flex border-b-1 border-current/20"},Bt={class:"w-[85px] flex-none"},$t={class:"flex flex-wrap gap-x-2"},St={key:0},Rt={key:0},Tt={class:"flex border-b-1 border-current/20"},qt={class:"w-[85px] flex-none"},xt={key:1,class:"flex border-b-1 border-current/20"},Dt={class:"w-[85px] flex-none"},Ot={class:"flex flex-wrap gap-x-2"},It={key:2,class:"flex border-b-1 border-current/20"},wt={class:"w-[85px] flex-none"},Vt={key:0},Et={class:"xl:flex border-b-1 border-current/20"},Lt={class:"w-[85px] flex-none"},Mt={class:"flex mb-2"},Gt={class:"text-right has-text-right w-5 mr-2"},At={class:"text-xs mx-1"},Nt={key:0},Ut={class:"is-family-primary has-text-weight-bold text-sm font-mono font-bold align-bottom"},Ft={class:"ml-1"},Qt={class:"text-durability"},Pt={key:3},zt={key:4,class:"text-durability text-smaller"},Ht={key:0},Kt={key:5,class:"text-smaller"},Jt={key:6,class:"text-smaller"},Wt={class:"text-right text-xl"},Xt={key:0},Yt={class:"text-right text-sm"},Zt={class:"text-durability"},te={key:3,class:"flex items-center text-sm text-current/60 gap-2"},ee={class:"border-current/40 rounded-lg border p-1"},ne=W({__name:"BlueprintInfo",props:{card:{}},setup(y){const{t:C}=X();Y().$ObjectManager;const h=y,q=h.card.BlueprintStages.some(t=>t.RequiredElements.some(p=>p.Remember));function x(){let t=[];return h.card.BlueprintStages.forEach(p=>{p.RequiredElements.forEach(j=>{j.LiquidBecomesResult&&t.push(j.RequiredCard||j.RequiredTabGroup)})}),t}return(t,p)=>{const j=E,b=L,$=M,S=G,D=N,O=U,R=F,I=Q,w=P;return t.card?(e(),n("div",nt,[t.card.StatValues.length>0||t.card.CardsOnBoard.length>0||t.card.TagsOnBoard.length>0||t.card.CompletedObjectives.length>0?(e(),n("div",rt,[l("div",null,i(t.$t("解锁条件：")),1),(e(!0),n(u,null,c(t.card.StatValues,(r,g)=>(e(),_(j,{obj:r.StatCondition},null,8,["obj"]))),256)),(e(!0),n(u,null,c(t.card.CardsOnBoard,(r,g)=>(e(),n(u,null,[o(i(t.$t("拥有"))+" ",1),a(b,{obj:r.Card},null,8,["obj"]),o("x"+i(r.Quantity)+" ",1),r.OnlyInEnvironment?(e(),n("span",it,[o("("+i(t.$t("位于"))+" ",1),a(b,{obj:r.OnlyInEnvironment},null,8,["obj"]),o(" "+i(t.$t("环境"))+")",1)])):s("",!0),r.OnlyInContainer.Target?(e(),n("span",ot,[o("("+i(t.$t("位于"))+" ",1),a(b,{obj:r.OnlyInContainer.Target},null,8,["obj"]),o(" "+i(t.$t("环境"))+")",1)])):s("",!0)],64))),256)),(e(!0),n(u,null,c(t.card.TagsOnBoard,(r,g)=>(e(),n(u,null,[o(i(t.$t("拥有"))+" ",1),a(b,{obj:r.Tag},null,8,["obj"]),o("x"+i(r.Quantity)+" ",1),r.OnlyInEnvironment?(e(),n("span",lt,[o("("+i(t.$t("位于"))+" ",1),a(b,{obj:r.OnlyInEnvironment},null,8,["obj"]),o(" "+i(t.$t("环境"))+")",1)])):s("",!0),r.OnlyInContainer.Target?(e(),n("span",at,[o("("+i(t.$t("位于"))+" ",1),a(b,{obj:r.OnlyInContainer.Target},null,8,["obj"]),o(" "+i(t.$t("环境"))+")",1)])):s("",!0)],64))),256)),(e(!0),n(u,null,c(t.card.CompletedObjectives,(r,g)=>(e(),n(u,null,[o(i(t.$t("完成"))+" ",1),a(b,{obj:r.ObjectiveCondition},null,8,["obj"])],64))),256))])):s("",!0),t.card.AlsoUnlocks.length>0?(e(),n("div",st,[l("div",ut,[o(i(t.$t("同时解锁："))+" ",1),(e(!0),n(u,null,c(t.card.AlsoUnlocks,(r,g)=>(e(),n(u,null,[a(b,{obj:r},null,8,["obj"]),g<t.card.AlsoUnlocks.length-1?(e(),n("span",dt,", ")):s("",!0)],64))),256))])])):s("",!0),t.card.BlueprintUnlockTicksCost>0?(e(),n("div",pt,[o(i(t.$t("研究耗时："))+" ",1),a(k,{tp:t.card.BlueprintUnlockTicksCost},null,8,["tp"])])):s("",!0),t.card._blueprintContainerCard.length>0?(e(),n("div",bt,[o(i(t.$t("容器"))+"： ",1),(e(!0),n(u,null,c(t.card._blueprintContainerCard,r=>(e(),n("div",null,[a(b,{obj:r},null,8,["obj"])]))),256))])):s("",!0),l("div",ct,[l("h2",gt,i(t.$t("制作")),1),l("div",yt,[(e(!0),n(u,null,c(t.card.BlueprintActionTags,r=>(e(),n("div",_t,[a($,null,{default:B(()=>[a(b,{obj:r},null,8,["obj"])]),_:2},1024)]))),256))]),l("div",Ct,[l("div",ft,[l("div",jt,i(t.$t("材料总计：")),1),l("div",null,[(e(!0),n(u,null,c(m(J)(t.card.BlueprintStages),(r,g)=>(e(),n(u,null,[g>0?(e(),n("span",mt,", ")):s("",!0),a(b,{obj:r.card},null,8,["obj"]),l("span",ht,"x"+i(r.quantity),1),r.dontSpend?(e(),n("span",vt," ("+i(t.$t("不消耗"))+") ",1)):s("",!0)],64))),256))])]),t.card.BlueprintStatConditions.length>0||t.card.BlueprintCardConditions.length>0||t.card.BlueprintTagConditions.length>0||t.card.BuildingStatConditions.length>0||t.card.BuildingCardConditions.length>0||t.card.BuildingTagConditions.length>0?(e(),n("div",kt,[l("div",Bt,i(t.$t("制作条件：")),1),l("div",$t,[(e(!0),n(u,null,c(t.card.BlueprintStatConditions,(r,g)=>(e(),n("div",null,[g>0?(e(),n("span",St,", ")):s("",!0),a(j,{obj:r},null,8,["obj"])]))),256)),(e(!0),n(u,null,c(t.card.BlueprintCardConditions,(r,g)=>(e(),n("div",null,[r.Inverted?(e(),_(S,{key:0},{default:B(()=>[a(b,{obj:r.TriggerCard},null,8,["obj"])]),_:2},1024)):(e(),_(b,{key:1,obj:r.TriggerCard},null,8,["obj"]))]))),256)),(e(!0),n(u,null,c(t.card.BlueprintTagConditions,(r,g)=>(e(),n("div",null,[r.Inverted?(e(),_(S,{key:0},{default:B(()=>[a(b,{obj:r.TriggerTag},null,8,["obj"])]),_:2},1024)):(e(),_(b,{key:1,obj:r.TriggerTag},null,8,["obj"]))]))),256)),(e(!0),n(u,null,c(t.card.BuildingStatConditions,(r,g)=>(e(),n("div",null,[a(j,{obj:r},null,8,["obj"])]))),256)),t.card._blueprintContainerCard.length>0&&m(A)(t.card.BuildingContainerDurabilitiesConditions)?(e(),n("div",Rt,[o(i(t.$t("容器")),1),a(D,{obj:t.card.BuildingContainerDurabilitiesConditions,card:t.card._blueprintContainerCard[0]},null,8,["obj","card"])])):s("",!0),(e(!0),n(u,null,c(t.card.BuildingCardConditions,(r,g)=>(e(),n("div",null,[a(b,{obj:r.TriggerCard},null,8,["obj"])]))),256)),(e(!0),n(u,null,c(t.card.BuildingTagConditions,(r,g)=>(e(),n("div",null,[a(b,{obj:r.TriggerTag},null,8,["obj"])]))),256))])])):s("",!0),l("div",Tt,[l("div",qt,i(t.$t("制作时间：")),1),l("div",null,[t.card.BlueprintStages.length==1?(e(),_(k,{key:0,tp:t.card.BuildingDaytimeCost},null,8,["tp"])):s("",!0),t.card.BlueprintStages.length>1?(e(),n(u,{key:1},[a(k,{tp:t.card.BuildingDaytimeCost},null,8,["tp"]),o(i(t.$t("/每步骤，共计：")),1),a(k,{tp:t.card.BuildingDaytimeCost*t.card.BlueprintStages.length},null,8,["tp"])],64)):s("",!0)])]),t.card.BlueprintStatModifications.length>0?(e(),n("div",xt,[l("div",Dt,i(t.$t("状态变化：")),1),l("div",Ot,[(e(!0),n(u,null,c(t.card.BlueprintStatModifications,(r,g)=>(e(),n("div",null,[a(z,{obj:r},null,8,["obj"])]))),256))])])):s("",!0),t.card.BlueprintCardModifications.length>0||t.card.BlueprintContainerCardChanges.ModType>0?(e(),n("div",It,[l("div",wt,i(t.$t("卡牌变化：")),1),l("div",null,[(e(!0),n(u,null,c(t.card.BlueprintCardModifications,(r,g)=>(e(),_(O,{obj:r},null,8,["obj"]))),256)),t.card._blueprintContainerCard.length>0?(e(),n("div",Vt,[o(i(t.$t("容器"))+" ",1),a(T,{obj:t.card.BlueprintContainerCardChanges,card:t.card._blueprintContainerCard[0]},null,8,["obj","card"])])):s("",!0)])])):s("",!0),l("div",Et,[l("div",Lt,i(t.$t("步骤：")),1),l("div",null,[(e(!0),n(u,null,c(t.card.BlueprintStages,(r,g)=>(e(),n("div",Mt,[l("div",Gt,i(g+1)+". ",1),l("div",null,[l("div",null,[(e(!0),n(u,null,c(r.StepActionTags,d=>(e(),n("span",At,[a($,null,{default:B(()=>[a(b,{obj:d},null,8,["obj"])]),_:2},1024)]))),256))]),(e(!0),n(u,null,c(r.RequiredElements,(d,v)=>(e(),n("span",{class:Z(["border-current/40 rounded-lg",{"border p-1":d.Remember}])},[v>0?(e(),n("span",Nt,", ")):s("",!0),d.RequiredCard?(e(),_(b,{key:1,obj:d.RequiredCard},null,8,["obj"])):s("",!0),d.RequiredTabGroup?(e(),_(b,{key:2,obj:d.RequiredTabGroup},null,8,["obj"])):s("",!0),l("span",Ut,"x"+i(d.RequiredQuantity),1),(e(!0),n(u,null,c(m(et)(d),f=>(e(),n("span",Ft,[p[0]||(p[0]=o(" (")),l("span",Qt,i(f.durability.CardStatName[t.$i18n.locale]),1),a(R,{obj:{x:f.value.FloatValue,y:f.value.MaxValue},class:"text-smaller"},null,8,["obj"]),p[1]||(p[1]=o(") "))]))),256)),d.EffectOnIngredient.ModType>0?(e(),n("span",Pt,[p[2]||(p[2]=o(" ( ")),a(T,{class:"text-smaller",obj:d.EffectOnIngredient,card:d.RequiredCard||d.RequiredTabGroup},null,8,["obj","card"]),p[3]||(p[3]=o(" ) "))])):s("",!0),d.AffectResultDurabilities.MaskValue>0?(e(),n("span",zt,[p[4]||(p[4]=o(" (⤷ ")),(e(!0),n(u,null,c(m(H)(d.AffectResultDurabilities.MaskValue,d.RequiredCard||d.RequiredTabGroup),(f,V)=>(e(),n("span",null,[V>0?(e(),n("span",Ht,"/")):s("",!0),o(" "+i(f.CardStatName[t.$i18n.locale]),1)]))),256)),p[5]||(p[5]=o(" ) "))])):s("",!0),d.DontSpend?(e(),n("span",Kt," ("+i(t.$t("不消耗"))+") ",1)):s("",!0),d.RequiredLiquidContent.IsActive?(e(),n("span",Jt,[p[6]||(p[6]=o(" ( ")),d.RequiredLiquidContent.RequiredLiquid?(e(),_(b,{key:0,obj:d.RequiredLiquidContent.RequiredLiquid},null,8,["obj"])):s("",!0),d.RequiredLiquidContent.RequiredGroup?(e(),_(b,{key:1,obj:d.RequiredLiquidContent.RequiredGroup},null,8,["obj"])):s("",!0),p[7]||(p[7]=o(" x")),a(R,{obj:d.RequiredLiquidContent.RequiredQuantity,isLiquid:!0},null,8,["obj"]),p[8]||(p[8]=o(" ) "))])):s("",!0)],2))),256))])]))),256))])]),l("div",null,[l("div",Wt,[t.card.BlueprintResult.length>0?(e(),n("div",Xt,[l("span",null,i(t.$t("成品：")),1),(e(!0),n(u,null,c(x(),(r,g)=>(e(),n("span",null,[a(b,{obj:r},null,8,["obj"]),o(" "+i(t.$t("中")),1)]))),256)),(e(!0),n(u,null,c(t.card.BlueprintResult,(r,g)=>(e(),n("span",null,[a(I,{obj:r},null,8,["obj"])]))),256))])):s("",!0)]),l("div",Yt,[(e(!0),n(u,null,c(t.card.ResultInterpolatedDurabilityModifiers,r=>{var g,d,v,f;return e(),n("div",null,[o(i(t.$t("修正"))+" ",1),l("span",Zt,i(((f=(v=(d=(g=t.card.BlueprintResult[0])==null?void 0:g.DroppedCard)==null?void 0:d[m(K)(r.OutputDurability)])==null?void 0:v.CardStatName)==null?void 0:f[t.$i18n.locale])??""),1),o(" "+i(t.$t("："))+" ",1),a(b,{obj:r.InputStat},null,8,["obj"]),o(" "+i(t.$t("为"))+" ",1),a(w,{obj:r.Value,joiner:t.$t("时增加")},null,8,["obj","joiner"])])}),256))])]),m(q)?(e(),n("div",te,[p[9]||(p[9]=o(" * ")),l("div",ee,i(t.$t("材料")),1),o(" : "+i(t.$t("拆除时返还")),1)])):s("",!0)])])])):s("",!0)}}}),Ce=Object.assign(ne,{__name:"BlueprintInfo"});export{Ce as _};
