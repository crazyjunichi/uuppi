import{d as C,c as s,h as _,o as i,F as y,i as r,k as u,a as d,t as p,w as v,aN as H,z as t,x as n,g as j,b as F,e as l}from"./BZioxkpp.js";import{_ as B}from"./B9urnu4C.js";import{_ as N}from"./BU44zAOI.js";import{_ as $}from"./DAJXB_cr.js";import{_ as I}from"./DfhhxR_l.js";import{_ as O}from"./CTYPDMCX.js";import{_ as z}from"./CyiGnzmX.js";import{i as q}from"./Brd0kxXE.js";import{s as G,a as Q}from"./DulP5Dh6.js";import{_ as U}from"./BheWnx7M.js";import{a as K}from"./BIEcodB8.js";import"./C-iJTia-.js";import"./D2BQZiOz.js";import"./ruLjuZjz.js";import"./_oJtwZBl.js";import"./BY3Wrf6N.js";import"./D7pHq3BR.js";import"./DALfP9TZ.js";import"./Db7M7PmE.js";import"./C6YaAyJ4.js";import"./_lq34Ev6.js";import"./DDrlUugt.js";const J={key:0},X={class:"text-xs"},Y=C({__name:"EncounterVariable",props:{obj:{}},setup(R){return(b,A)=>{const V=z;return b.obj.InterpolatedAddedValue.Active?(i(),s(y,{key:0},[r(V,{obj:b.obj.InterpolatedAddedValue,joiner:b.$t("时增加")},null,8,["obj","joiner"]),u(q)(b.obj.RandomAddedValue)?_("",!0):(i(),s("span",J,[d("span",X,"（随机值："+p(b.obj.RandomAddedValue.x)+" - "+p(b.obj.RandomAddedValue.y)+"）",1)]))],64)):_("",!0)}}}),Z=Object.assign(Y,{__name:"EncounterVariable"}),h={class:"mx-auto space-y-10 text-neutral-800 dark:text-neutral-200"},c={class:"space-y-4"},ee={class:"space-y-3 border-t border-neutral-200 dark:border-neutral-800 pt-6"},te={key:0},re={key:0},ne={class:"space-y-3 border-t border-neutral-200 dark:border-neutral-800 pt-6"},le={key:0},de={class:"list-disc list-inside space-y-1 text-neutral-800 dark:text-neutral-200"},ue={class:"space-y-4 border-t border-neutral-200 dark:border-neutral-800 pt-6"},oe={key:0,class:"rounded-xl border border-neutral-200 dark:border-neutral-800 bg-neutral-50 dark:bg-neutral-900/60 px-4 py-3 shadow-sm space-y-2"},ae={key:1,class:"rounded-xl border border-neutral-200 dark:border-neutral-800 bg-neutral-50 dark:bg-neutral-900/60 px-4 py-3 shadow-sm space-y-2"},ie={key:2,class:"rounded-xl border border-neutral-200 dark:border-neutral-800 bg-neutral-50 dark:bg-neutral-900/60 px-4 py-3 shadow-sm space-y-2"},se={class:"space-y-4 border-t border-neutral-200 dark:border-neutral-800 pt-6"},me={key:0},pe={key:0,class:"space-y-1"},_e={class:"text-durability"},ge={class:"space-y-4 border-t border-neutral-200 dark:border-neutral-800 pt-6"},fe={key:0,class:"rounded-xl border border-neutral-200 dark:border-neutral-800 bg-neutral-50 dark:bg-neutral-900/60 px-4 py-3 shadow-sm space-y-2"},be={key:1,class:"rounded-xl border border-neutral-200 dark:border-neutral-800 bg-neutral-50 dark:bg-neutral-900/60 px-4 py-3 shadow-sm space-y-3"},Ee={key:0},ye={key:1,class:"space-y-1"},xe={class:""},je={class:""},Te={key:2,class:"space-y-1"},ke={class:""},De={key:0,class:""},Ae={key:1,class:""},Ve={key:2,class:""},Le={key:3,class:""},Re={key:4,class:""},Pe={key:5,class:""},Ze=C({__name:"EncounterSystem",props:{id:{}},async setup(R){let b,A;const V=R,{encounterPopup:o}=([b,A]=v(()=>U(Object.assign({"../../generated/AgentTag_WolfLonePrey.json":()=>l(()=>import("./CblRQgN9.js"),[],import.meta.url),"../../generated/AgentTag_WolfPackPrey.json":()=>l(()=>import("./_B2EWfgR.js"),[],import.meta.url),"../../generated/CardType0.json":()=>l(()=>import("./BS66CIf5.js"),[],import.meta.url),"../../generated/CardType1.json":()=>l(()=>import("./DI7CorlD.js"),[],import.meta.url),"../../generated/CardType10.json":()=>l(()=>import("./BFVw7SQ-.js"),[],import.meta.url),"../../generated/CardType11.json":()=>l(()=>import("./BATjPjrJ.js"),[],import.meta.url),"../../generated/CardType12.json":()=>l(()=>import("./BoYIP7-u.js"),[],import.meta.url),"../../generated/CardType13.json":()=>l(()=>import("./CtGMrbOR.js"),[],import.meta.url),"../../generated/CardType2.json":()=>l(()=>import("./BNOsvJA3.js"),[],import.meta.url),"../../generated/CardType3.json":()=>l(()=>import("./DV2kbtFp.js"),[],import.meta.url),"../../generated/CardType4.json":()=>l(()=>import("./CYYHhdZH.js"),[],import.meta.url),"../../generated/CardType5.json":()=>l(()=>import("./B3VHwJ7I.js"),[],import.meta.url),"../../generated/CardType6.json":()=>l(()=>import("./C0h0RIYA.js"),[],import.meta.url),"../../generated/CardType7.json":()=>l(()=>import("./Co3rtus2.js"),[],import.meta.url),"../../generated/CardType8.json":()=>l(()=>import("./Dv69pSz5.js"),[],import.meta.url),"../../generated/CardType9.json":()=>l(()=>import("./DtsLBn7G.js"),[],import.meta.url),"../../generated/EncounterSystem.json":()=>l(()=>import("./NsIRotiU.js"),[],import.meta.url),"../../generated/EnemyList.json":()=>l(()=>import("./B9RwPFyn.js"),[],import.meta.url),"../../generated/EquipmentTag.json":()=>l(()=>import("./dunyBAJD.js"),[],import.meta.url),"../../generated/Farming.json":()=>l(()=>import("./osQ1u6xl.js"),[],import.meta.url),"../../generated/Fishing.json":()=>l(()=>import("./H9XYo_KF.js"),[],import.meta.url),"../../generated/FixCnTranslation.json":()=>l(()=>import("./CzXI2IY2.js"),[],import.meta.url),"../../generated/FlavourSystem.json":()=>l(()=>import("./CcSmyDJU.js"),[],import.meta.url),"../../generated/FlavourTag.json":()=>l(()=>import("./DZ8CzwBo.js"),[],import.meta.url),"../../generated/MagicSystem.json":()=>l(()=>import("./Bg8xdjO3.js"),[],import.meta.url),"../../generated/MapOldData.json":()=>l(()=>import("./BKX0hM-3.js"),[],import.meta.url),"../../generated/PageHistory.json":()=>l(()=>import("./D9lxb35M.js"),[],import.meta.url),"../../generated/Perk.json":()=>l(()=>import("./DzWXSu8d.js"),[],import.meta.url),"../../generated/Quest.json":()=>l(()=>import("./DGSjEhbN.js"),[],import.meta.url),"../../generated/Recipes.json":()=>l(()=>import("./BygMvCVA.js"),[],import.meta.url),"../../generated/SpiceTag.json":()=>l(()=>import("./D04bQUSy.js"),[],import.meta.url),"../../generated/Tags.json":()=>l(()=>import("./BeScg0u7.js"),[],import.meta.url),"../../generated/TestNPCTag.json":()=>l(()=>import("./Bsj2AtVC.js"),[],import.meta.url),"../../generated/Trigger.json":()=>l(()=>import("./D8bBk1_Q.js"),[],import.meta.url),"../../generated/WeaponMove.json":()=>l(()=>import("./DfT6ETbz.js"),[],import.meta.url),"../../generated/_Ammo.json":()=>l(()=>import("./C_KRIfTP.js"),[],import.meta.url),"../../generated/_Armor.json":()=>l(()=>import("./BOd4AK6-.js"),[],import.meta.url),"../../generated/_BlueprintIndex.json":()=>l(()=>import("./Z70DZpuA.js"),[],import.meta.url),"../../generated/_Coating.json":()=>l(()=>import("./-EQB4U_q.js"),[],import.meta.url),"../../generated/_Container.json":()=>l(()=>import("./CxMmUiu0.js"),[],import.meta.url),"../../generated/_Food.json":()=>l(()=>import("./BEPhy1ud.js"),[],import.meta.url),"../../generated/_NPCIndex.json":()=>l(()=>import("./DkXOrxkC.js"),[],import.meta.url),"../../generated/_Seasons.json":()=>l(()=>import("./yYhEeBFG.js"),[],import.meta.url),"../../generated/_StatIndex.json":()=>l(()=>import("./DvCWTvzu.js"),[],import.meta.url),"../../generated/_TradingValue.json":()=>l(()=>import("./DMBw8kjb.js"),[],import.meta.url),"../../generated/_Weapon.json":()=>l(()=>import("./Z34b0z-s.js"),[],import.meta.url),"../../generated/eTag_Backpack.json":()=>l(()=>import("./BSc0cggn.js"),[],import.meta.url),"../../generated/eTag_Belt.json":()=>l(()=>import("./9EoRRo7z.js"),[],import.meta.url),"../../generated/eTag_Bracers.json":()=>l(()=>import("./CCD3fW3Q.js"),[],import.meta.url),"../../generated/eTag_Finger.json":()=>l(()=>import("./q6g9W52B.js"),[],import.meta.url),"../../generated/eTag_Hands.json":()=>l(()=>import("./C2CCx6eW.js"),[],import.meta.url),"../../generated/eTag_Head.json":()=>l(()=>import("./BOHTEhOC.js"),[],import.meta.url),"../../generated/eTag_Mask.json":()=>l(()=>import("./B-06Ywyc.js"),[],import.meta.url),"../../generated/eTag_Neck.json":()=>l(()=>import("./CL1vffbp.js"),[],import.meta.url),"../../generated/eTag_OuterTorso.json":()=>l(()=>import("./DmWgmcEW.js"),[],import.meta.url),"../../generated/eTag_Pants.json":()=>l(()=>import("./DbQoJ4Yf.js"),[],import.meta.url),"../../generated/eTag_Pouch.json":()=>l(()=>import("./BZ6nAA0K.js"),[],import.meta.url),"../../generated/eTag_Shield.json":()=>l(()=>import("./BD3VJcTB.js"),[],import.meta.url),"../../generated/eTag_Shirt.json":()=>l(()=>import("./D66RbjAS.js"),[],import.meta.url),"../../generated/eTag_Shoes.json":()=>l(()=>import("./CGwpNnr9.js"),[],import.meta.url),"../../generated/eTag_ShoesOuter.json":()=>l(()=>import("./DK5PEoKr.js"),[],import.meta.url),"../../generated/eTag_Shoulder.json":()=>l(()=>import("./D3zc9RhX.js"),[],import.meta.url),"../../generated/eTag_Spirit.json":()=>l(()=>import("./DKE28UIP.js"),[],import.meta.url),"../../generated/eTag_Underwear.json":()=>l(()=>import("./B56C4d5u.js"),[],import.meta.url),"../../generated/eTag_WAbrasion.json":()=>l(()=>import("./Bm1Avurx.js"),[],import.meta.url),"../../generated/eTag_WArmFractureL.json":()=>l(()=>import("./DnrG9j37.js"),[],import.meta.url),"../../generated/eTag_WArmFractureR.json":()=>l(()=>import("./WcOeybSE.js"),[],import.meta.url),"../../generated/eTag_WArmLacerationL.json":()=>l(()=>import("./BJLYaw7y.js"),[],import.meta.url),"../../generated/eTag_WArmLacerationR.json":()=>l(()=>import("./2HsM4dVd.js"),[],import.meta.url),"../../generated/eTag_WArmSprainedL.json":()=>l(()=>import("./_End2CD3.js"),[],import.meta.url),"../../generated/eTag_WArmSprainedR.json":()=>l(()=>import("./DcfnrkGd.js"),[],import.meta.url),"../../generated/eTag_WBite.json":()=>l(()=>import("./jHYLZD5t.js"),[],import.meta.url),"../../generated/eTag_WLegFractureL.json":()=>l(()=>import("./DaYddOHt.js"),[],import.meta.url),"../../generated/eTag_WLegFractureR.json":()=>l(()=>import("./k2HUxr3f.js"),[],import.meta.url),"../../generated/eTag_WLegLacerationL.json":()=>l(()=>import("./DoGqfHtj.js"),[],import.meta.url),"../../generated/eTag_WLegLacerationR.json":()=>l(()=>import("./CZvpLMG1.js"),[],import.meta.url),"../../generated/eTag_WLegSprainedL.json":()=>l(()=>import("./Deu9nTZk.js"),[],import.meta.url),"../../generated/eTag_WLegSprainedR.json":()=>l(()=>import("./BsClB0sZ.js"),[],import.meta.url),"../../generated/eTag_WMajorWound.json":()=>l(()=>import("./DRNwkat4.js"),[],import.meta.url),"../../generated/eTag_WMinorWound.json":()=>l(()=>import("./BbfTiVP0.js"),[],import.meta.url),"../../generated/eTag_WRibFracture.json":()=>l(()=>import("./PyO2UHUn.js"),[],import.meta.url),"../../generated/eTag_WSpiritual.json":()=>l(()=>import("./DHZbqVx6.js"),[],import.meta.url),"../../generated/encounterPopup.json":()=>l(()=>import("./BjF0RxDx.js"),[],import.meta.url),"../../generated/searchData.json":()=>l(()=>import("./5C0fWPRH.js"),[],import.meta.url),"../../generated/summaryData.json":()=>l(()=>import("./Cuip6_Hg.js"),[],import.meta.url)}),`../../generated/${V.id}.json`,4)),b=await b,A(),b).default,{list:S}=([b,A]=v(()=>l(()=>import("./B9RwPFyn.js"),[],import.meta.url)),b=await b,A(),b).default,W=S.filter(T=>!T.key.includes("NOT_USE")&&!T.key.includes("TEST")&&!T.key.includes("Test")&&!T.key.includes("OutOfDate")),M=T=>T<=0?"无伤":T===1?"轻伤":T===2?"中伤":"重伤";return(T,e)=>{const P=B,x=G,E=N,w=Q,D=$,f=I,g=O,m=O,L=I,k=Z;return i(),s("div",h,[e[163]||(e[163]=d("div",{class:"space-y-3"},[d("h1",{class:"text-3xl font-bold tracking-tight text-neutral-900 dark:text-neutral-100"},"战斗系统"),d("p",{class:"leading-relaxed text-neutral-700 dark:text-neutral-300"},[t(" 游戏中玩家遭遇动物型NPC时可以触发战斗系统。"),d("br")])],-1)),d("div",c,[e[0]||(e[0]=d("h2",{class:"text-xl font-semibold text-neutral-900 dark:text-neutral-100"},"敌人列表",-1)),r(w,{value:u(W),tableStyle:"min-width: 50rem",selectionMode:"single"},{default:n(()=>[r(x,{field:T.$i18n.locale,header:"敌人"},{body:n(a=>[r(P,{obj:a.data},null,8,["obj"])]),_:1},8,["field"]),r(x,{header:"血量",sortable:"",field:"Blood.StartingValue.y"},{body:n(a=>[r(E,{obj:a.data.Blood.StartingValue},null,8,["obj"])]),_:1}),r(x,{header:"耐力",sortable:"",field:"Stamina.StartingValue.y"},{body:n(a=>[r(E,{obj:a.data.Stamina.StartingValue},null,8,["obj"])]),_:1}),r(x,{header:"斗志",sortable:"",field:"Morale.StartingValue.y"},{body:n(a=>[r(E,{obj:a.data.Morale.StartingValue},null,8,["obj"])]),_:1}),r(x,{header:"毒抗",sortable:"",field:"Value4.StartingValue.y"},{body:n(a=>[r(E,{obj:a.data.Value4.StartingValue},null,8,["obj"])]),_:1}),r(x,{header:"近战",sortable:"",field:"MeleeSkill.StartingValue.y"},{body:n(a=>[r(E,{obj:a.data.MeleeSkill.StartingValue},null,8,["obj"])]),_:1}),r(x,{header:"远程",sortable:"",field:"RangedSkill.StartingValue.y"},{body:n(a=>[r(E,{obj:a.data.RangedSkill.StartingValue},null,8,["obj"])]),_:1}),r(x,{header:"潜行",sortable:"",field:"EnemyStealth.y"},{body:n(a=>[r(E,{obj:a.data.EnemyStealth},null,8,["obj"])]),_:1}),r(x,{header:"警觉",sortable:"",field:"EnemyAwareness.y"},{body:n(a=>[r(E,{obj:a.data.EnemyAwareness},null,8,["obj"])]),_:1}),r(x,{header:"掩护",sortable:"",field:"EnemyCover.y"},{body:n(a=>[r(E,{obj:a.data.EnemyCover},null,8,["obj"])]),_:1}),r(x,{header:"体型",sortable:"",field:"EnemySize.y"},{body:n(a=>[r(E,{obj:a.data.EnemySize},null,8,["obj"])]),_:1})]),_:1},8,["value"])]),e[164]||(e[164]=d("div",{class:"space-y-4"},[d("h2",{class:"text-xl font-semibold text-neutral-900 dark:text-neutral-100"},"战斗基本流程"),d("div",{class:"rounded-xl border border-neutral-200 dark:border-neutral-800 bg-neutral-50 dark:bg-neutral-900/60 px-4 py-3 shadow-sm"},[d("ul",{class:"list-disc list-inside space-y-1 text-neutral-800 dark:text-neutral-200"},[d("li",null,"玩家遭遇敌人"),d("li",null,"开场判定潜行/警觉，确定先手与隐藏状态"),d("li",null,"选择行动并调整距离，确定近战/远程结算方式"),d("li",null,"双方命中与伤口结算，处理耐久与状态"),d("li",null,"循环回合，直至一方逃跑或被击败")])])],-1)),d("div",ee,[e[5]||(e[5]=d("h3",{class:"text-lg font-semibold text-neutral-900 dark:text-neutral-100"},"1. 开场 / 先攻（潜行与警觉）",-1)),e[6]||(e[6]=d("p",{class:"leading-relaxed text-neutral-700 dark:text-neutral-300"}," 开局先对比潜行与警觉，决定谁先行动、是否触发偷袭或保持隐藏；结果还影响初始距离与后续距离调整优先级。潜行/警觉由双方数值叠加形成，再做一次互斥比较： ",-1)),r(f,{class:"rounded-xl border border-neutral-200 dark:border-neutral-800 bg-neutral-50 dark:bg-neutral-900/60 px-4 py-3 shadow-sm"},{default:n(()=>[u(o).PlayerStealthCalculation.length>0?(i(),s("div",te,[e[1]||(e[1]=d("div",null,"玩家潜行 = 玩家潜行统计值 + 掩体提供的潜行 + 已装备提供掩护的装备潜行",-1)),(i(!0),s(y,null,j(u(o).PlayerStealthCalculation,a=>(i(),s("div",null,[r(D,{obj:a},null,8,["obj"])]))),256))])):_("",!0)]),_:1}),r(f,{class:"rounded-xl border border-neutral-200 dark:border-neutral-800 bg-neutral-50 dark:bg-neutral-900/60 px-4 py-3 shadow-sm"},{default:n(()=>[u(o).PlayerAlertnessCalculation.length>0?(i(),s("div",re,[e[2]||(e[2]=d("div",null,"玩家警觉 = 玩家警觉统计值",-1)),(i(!0),s(y,null,j(u(o).PlayerAlertnessCalculation,a=>(i(),s("div",null,[r(D,{obj:a},null,8,["obj"])]))),256))])):_("",!0)]),_:1}),r(f,{class:"rounded-xl border border-neutral-200 dark:border-neutral-800 bg-neutral-50 dark:bg-neutral-900/60 px-4 py-3 shadow-sm"},{default:n(()=>e[3]||(e[3]=[d("div",null,"敌人潜行 = 敌人基础潜行 + 敌人掩体潜行",-1)])),_:1}),r(f,{class:"rounded-xl border border-neutral-200 dark:border-neutral-800 bg-neutral-50 dark:bg-neutral-900/60 px-4 py-3 shadow-sm"},{default:n(()=>e[4]||(e[4]=[d("div",null,"敌人警觉 = 敌人基础警觉",-1)])),_:1}),e[7]||(e[7]=d("div",{class:"text-neutral-700 dark:text-neutral-300"},"比较：",-1)),e[8]||(e[8]=d("p",{class:"leading-relaxed text-neutral-700 dark:text-neutral-300"},"- 若 敌人潜行 > 玩家警觉 且 玩家潜行 ≤ 敌人警觉，则敌人隐藏；",-1)),e[9]||(e[9]=d("div",{class:"leading-relaxed text-neutral-700 dark:text-neutral-300"},"- 若 玩家潜行 > 敌人警觉 且 敌人潜行 ≤ 玩家警觉，则玩家隐藏；",-1)),e[10]||(e[10]=d("div",{class:"leading-relaxed text-neutral-700 dark:text-neutral-300"},"- 双方都大于或都不大于时互不隐藏。",-1))]),e[165]||(e[165]=H('<div class="space-y-3 border-t border-neutral-200 dark:border-neutral-800 pt-6"><h3 class="text-lg font-semibold text-neutral-900 dark:text-neutral-100">2. 距离与进入回合</h3><p class="leading-relaxed text-neutral-700 dark:text-neutral-300"> 先根据隐藏状态与双方动作范围判断是否拉近或拉远；若双方都选远程，则倾向拉远；若有一方需要贴身，则优先拉近。距离确定后，再决定本回合按近战或远程方式结算。 </p></div><div class="space-y-3 border-t border-neutral-200 dark:border-neutral-800 pt-6"><h3 class="text-lg font-semibold text-neutral-900 dark:text-neutral-100">3. 行动选择</h3><p class="leading-relaxed text-neutral-700 dark:text-neutral-300"> 玩家行动由当前武器与持握方式决定，默认还可选择逃跑；敌人从其动作列表按权重随机。动作的距离标签会影响上一步的距离调整与本回合结算类型。 </p><a href="_WeaponMove" class="inline-flex items-center gap-2 px-3 py-2 rounded-lg bg-neutral-100 dark:bg-neutral-800 hover:bg-neutral-200 dark:hover:bg-neutral-700 text-neutral-900 dark:text-neutral-100 underline-offset-2">点击查看行动列表</a></div>',2)),d("div",ne,[e[29]||(e[29]=d("h3",{class:"text-lg font-semibold text-neutral-900 dark:text-neutral-100"},"4. 对决类型与命中判定",-1)),e[30]||(e[30]=d("p",{class:"leading-relaxed text-neutral-700 dark:text-neutral-300"}," 双方都近战→近战；双方都远程→远程对射；一近一远则按当前距离判定。若玩家无动作则玩家必败；敌人无动作则敌方命中视为0。 ",-1)),r(f,{class:"rounded-xl border border-neutral-200 dark:border-neutral-800 bg-neutral-50 dark:bg-neutral-900/60 px-4 py-3 shadow-sm"},{default:n(()=>[e[17]||(e[17]=t(" 近战：命中率 = ")),r(g,null,{default:n(()=>e[11]||(e[11]=[t("自身攻击力")])),_:1}),e[18]||(e[18]=t(" / ( ")),r(g,null,{default:n(()=>e[12]||(e[12]=[t("自身攻击力")])),_:1}),e[19]||(e[19]=t(" + ")),r(g,null,{default:n(()=>e[13]||(e[13]=[t("对方攻击力")])),_:1}),e[20]||(e[20]=t(" )；")),e[21]||(e[21]=d("br",null,null,-1)),e[22]||(e[22]=t(" 远程：命中率 = ")),r(g,null,{default:n(()=>e[14]||(e[14]=[t("自身攻击力")])),_:1}),e[23]||(e[23]=t(" / ( ")),r(g,null,{default:n(()=>e[15]||(e[15]=[t("自身攻击力")])),_:1}),e[24]||(e[24]=t(" + ")),r(g,null,{default:n(()=>e[16]||(e[16]=[t("对方防御力")])),_:1}),e[25]||(e[25]=t(" )；")),e[26]||(e[26]=d("br",null,null,-1)),e[27]||(e[27]=t(" 若动作标记“必定命中/对决必胜”或指定自定义对决值，则直接命中或改用自定义值替换对方防御。 "))]),_:1}),r(f,{class:"rounded-xl border border-neutral-200 dark:border-neutral-800 bg-neutral-50 dark:bg-neutral-900/60 px-4 py-3 shadow-sm"},{default:n(()=>[u(o).ClashDifferenceTieChance.length>0?(i(),s("div",le,[e[28]||(e[28]=d("div",{class:"text-sm uppercase tracking-wide text-neutral-500 dark:text-neutral-400"},"平局处理（按攻防比区间抽取重掷/判双败几率）：",-1)),d("ul",de,[(i(!0),s(y,null,j(u(o).ClashDifferenceTieChance,a=>(i(),s("li",null," 攻防比 "+p(a.InputValueRange.x)+" - "+p(a.InputValueRange.y)+"：平局概率 "+p(a.OutputValueRange.x*100)+"% ",1))),256))])])):_("",!0)]),_:1})]),d("div",ue,[e[90]||(e[90]=d("h3",{class:"text-lg font-semibold text-neutral-900 dark:text-neutral-100"},"5. 攻击与防御组成",-1)),r(f,{class:"rounded-xl border border-neutral-200 dark:border-neutral-800 bg-neutral-50 dark:bg-neutral-900/60 px-4 py-3 shadow-sm space-y-1"},{default:n(()=>[d("div",null,[e[40]||(e[40]=t("玩家战力 = ")),r(g,null,{default:n(()=>e[31]||(e[31]=[t("行动战力")])),_:1}),e[41]||(e[41]=t("（武器/动作基础） + ")),r(g,null,{default:n(()=>e[32]||(e[32]=[t("体型")])),_:1}),t(" (默认 "+p(u(o).DefaultPlayerSize)+") + （如有）",1),r(g,null,{default:n(()=>e[33]||(e[33]=[t("敌人体型×系数")])),_:1}),e[42]||(e[42]=t(" + ")),r(m,null,{default:n(()=>e[34]||(e[34]=[t("射程修正")])),_:1}),e[43]||(e[43]=t(" + ")),r(m,null,{default:n(()=>e[35]||(e[35]=[t("属性插值加成")])),_:1}),e[44]||(e[44]=t(" + ")),r(m,null,{default:n(()=>e[36]||(e[36]=[t("潜行加成")])),_:1}),e[45]||(e[45]=t(" + ")),r(m,null,{default:n(()=>e[37]||(e[37]=[t("距离无效惩罚")])),_:1}),e[46]||(e[46]=t(" + ")),r(m,null,{default:n(()=>e[38]||(e[38]=[t("摔跤加成")])),_:1}),e[47]||(e[47]=t(" + ")),r(m,null,{default:n(()=>e[39]||(e[39]=[t("对逃跑/易伤/冲锋修正")])),_:1})])]),_:1}),r(L,{class:"rounded-xl border border-neutral-200 dark:border-neutral-800 bg-neutral-50 dark:bg-neutral-900/60 px-4 py-3 shadow-sm"},{default:n(()=>[e[52]||(e[52]=t(" 玩家防御力（敌人远程命中时使用） = ")),r(g,null,{default:n(()=>e[48]||(e[48]=[t("掩护")])),_:1}),e[53]||(e[53]=t(" + ")),r(g,null,{default:n(()=>e[49]||(e[49]=[t("体型防御")])),_:1}),t(" (取负体型，默认 "+p(u(o).DefaultPlayerSize)+") + ",1),r(m,null,{default:n(()=>e[50]||(e[50]=[t("远程偏差")])),_:1}),e[54]||(e[54]=t(" + ")),r(g,null,{default:n(()=>e[51]||(e[51]=[t("额外防御")])),_:1}),e[55]||(e[55]=t("（属性/状态加成） "))]),_:1}),r(L,{class:"rounded-xl border border-neutral-200 dark:border-neutral-800 bg-neutral-50 dark:bg-neutral-900/60 px-4 py-3 shadow-sm space-y-1"},{default:n(()=>[d("div",null,[e[66]||(e[66]=t("敌人战力 = ")),r(m,null,{default:n(()=>e[56]||(e[56]=[t("动作基础战力")])),_:1}),e[67]||(e[67]=t(" + ")),r(m,null,{default:n(()=>e[57]||(e[57]=[t("敌人体型")])),_:1}),e[68]||(e[68]=t(" + （近战）")),r(m,null,{default:n(()=>e[58]||(e[58]=[t("动作射程")])),_:1}),e[69]||(e[69]=t(" + ")),r(m,null,{default:n(()=>e[59]||(e[59]=[t("敌人属性插值加成")])),_:1}),e[70]||(e[70]=t(" + ")),r(m,null,{default:n(()=>e[60]||(e[60]=[t("敌人状态值加成")])),_:1}),e[71]||(e[71]=t(" + ")),r(m,null,{default:n(()=>e[61]||(e[61]=[t("累积伤口加成")])),_:1}),e[72]||(e[72]=t(" + ")),r(m,null,{default:n(()=>e[62]||(e[62]=[t("潜行加成")])),_:1}),e[73]||(e[73]=t(" + ")),r(m,null,{default:n(()=>e[63]||(e[63]=[t("距离无效惩罚")])),_:1}),e[74]||(e[74]=t(" + ")),r(m,null,{default:n(()=>e[64]||(e[64]=[t("摔跤加成")])),_:1}),e[75]||(e[75]=t(" + ")),r(m,null,{default:n(()=>e[65]||(e[65]=[t("对逃跑/易伤修正")])),_:1})])]),_:1}),r(L,{class:"rounded-xl border border-neutral-200 dark:border-neutral-800 bg-neutral-50 dark:bg-neutral-900/60 px-4 py-3 shadow-sm"},{default:n(()=>[e[81]||(e[81]=t(" 敌人防御力 = ")),r(g,null,{default:n(()=>e[76]||(e[76]=[t("敌人基础攻击力")])),_:1}),e[82]||(e[82]=t("（体型防御） + ")),r(g,null,{default:n(()=>e[77]||(e[77]=[t("动作战力")])),_:1}),e[83]||(e[83]=t("（若自定义） + ")),r(g,null,{default:n(()=>e[78]||(e[78]=[t("掩护")])),_:1}),e[84]||(e[84]=t(" + ")),r(g,null,{default:n(()=>e[79]||(e[79]=[t("体型防御")])),_:1}),e[85]||(e[85]=t(" + ")),r(g,null,{default:n(()=>e[80]||(e[80]=[t("额外防御")])),_:1}),e[86]||(e[86]=t("（状态/属性） "))]),_:1}),u(o).PlayerCoverCalculation.length>0?(i(),s("div",oe,[e[87]||(e[87]=d("div",{class:"text-sm uppercase tracking-wide text-neutral-500 dark:text-neutral-400"},"玩家掩护：",-1)),(i(!0),s(y,null,j(u(o).PlayerCoverCalculation,a=>(i(),s("div",null,[r(D,{obj:a},null,8,["obj"])]))),256))])):_("",!0),u(o).PlayerExtraDefenseCalculation.length>0?(i(),s("div",ae,[e[88]||(e[88]=d("div",{class:"text-sm uppercase tracking-wide text-neutral-500 dark:text-neutral-400"},"玩家额外防御：",-1)),(i(!0),s(y,null,j(u(o).PlayerExtraDefenseCalculation,a=>(i(),s("div",null,[r(D,{obj:a},null,8,["obj"])]))),256))])):_("",!0),u(o).PickupFromGroundClashStatInfluences.length>0?(i(),s("div",ie,[e[89]||(e[89]=d("div",{class:"text-sm uppercase tracking-wide text-neutral-500 dark:text-neutral-400"},"拾取时战力修正：",-1)),(i(!0),s(y,null,j(u(o).PickupFromGroundClashStatInfluences,a=>(i(),s("div",null,[r(D,{obj:a},null,8,["obj"])]))),256))])):_("",!0)]),d("div",se,[e[140]||(e[140]=d("h3",{class:"text-lg font-semibold text-neutral-900 dark:text-neutral-100"},"6. 命中、伤害、防御与伤口",-1)),r(f,{class:"rounded-xl border border-neutral-200 dark:border-neutral-800 bg-neutral-50 dark:bg-neutral-900/60 px-4 py-3 shadow-sm"},{default:n(()=>[d("div",null,[d("div",null,"近战命中权重：头 "+p(u(o).Head.MeleeHitChanceWeight)+" / 躯干 "+p(u(o).Torso.MeleeHitChanceWeight)+" / 左臂 "+p(u(o).LArm.MeleeHitChanceWeight)+" / 右臂 "+p(u(o).RArm.MeleeHitChanceWeight)+" / 左腿 "+p(u(o).LLeg.MeleeHitChanceWeight)+" / 右腿 "+p(u(o).RLeg.MeleeHitChanceWeight),1),d("div",null,"远程命中权重：头 "+p(u(o).Head.RangedHitChanceWeight)+" / 躯干 "+p(u(o).Torso.RangedHitChanceWeight)+" / 左臂 "+p(u(o).LArm.RangedHitChanceWeight)+" / 右臂 "+p(u(o).RArm.RangedHitChanceWeight)+" / 左腿 "+p(u(o).LLeg.RangedHitChanceWeight)+" / 右腿 "+p(u(o).RLeg.RangedHitChanceWeight),1)])]),_:1}),r(f,{class:"rounded-xl border border-neutral-200 dark:border-neutral-800 bg-neutral-50 dark:bg-neutral-900/60 px-4 py-3 shadow-sm space-y-1"},{default:n(()=>[e[111]||(e[111]=d("div",{class:"text-sm uppercase tracking-wide text-neutral-500 dark:text-neutral-400"},"玩家 → 敌人（伤害与防御）：",-1)),d("div",null,[e[97]||(e[97]=t("伤害 = ")),r(m,null,{default:n(()=>e[91]||(e[91]=[t("体型伤害")])),_:1}),e[98]||(e[98]=t("（近战取玩家体型） + （若有）")),r(m,null,{default:n(()=>e[92]||(e[92]=[t("敌人体型×系数")])),_:1}),e[99]||(e[99]=t(" + ")),r(m,null,{default:n(()=>e[93]||(e[93]=[t("行动基础伤害")])),_:1}),e[100]||(e[100]=t("（武器/动作/弹药/调料叠加） + ")),r(m,null,{default:n(()=>e[94]||(e[94]=[t("属性插值伤害")])),_:1}),e[101]||(e[101]=t(" + ")),r(m,null,{default:n(()=>e[95]||(e[95]=[t("摔跤加成")])),_:1}),e[102]||(e[102]=t(" + ")),r(m,null,{default:n(()=>e[96]||(e[96]=[t("对逃跑/易伤/冲锋加成")])),_:1})]),d("div",null,[e[107]||(e[107]=t("敌人防御 = ")),r(m,null,{default:n(()=>e[103]||(e[103]=[t("体型防御")])),_:1}),e[108]||(e[108]=t(" + ")),r(m,null,{default:n(()=>e[104]||(e[104]=[t("命中部位基础护甲")])),_:1}),e[109]||(e[109]=t(" + ")),r(m,null,{default:n(()=>e[105]||(e[105]=[t("敌人护甲数值")])),_:1}),e[110]||(e[110]=t("（按部位与伤害类型） + ")),r(m,null,{default:n(()=>e[106]||(e[106]=[t("部位追踪防御")])),_:1})])]),_:1}),r(f,{class:"rounded-xl border border-neutral-200 dark:border-neutral-800 bg-neutral-50 dark:bg-neutral-900/60 px-4 py-3 shadow-sm space-y-1"},{default:n(()=>[e[135]||(e[135]=d("div",{class:"text-sm uppercase tracking-wide text-neutral-500 dark:text-neutral-400"},"敌人 → 玩家（伤害与防御）：",-1)),d("div",null,[e[119]||(e[119]=t("伤害 = ")),r(m,null,{default:n(()=>e[112]||(e[112]=[t("体型伤害")])),_:1}),e[120]||(e[120]=t("（近战取敌人体型） + ")),r(m,null,{default:n(()=>e[113]||(e[113]=[t("行动基础伤害")])),_:1}),e[121]||(e[121]=t(" + ")),r(m,null,{default:n(()=>e[114]||(e[114]=[t("敌人状态值加成")])),_:1}),e[122]||(e[122]=t(" + ")),r(m,null,{default:n(()=>e[115]||(e[115]=[t("敌人伤口加成")])),_:1}),e[123]||(e[123]=t(" + ")),r(m,null,{default:n(()=>e[116]||(e[116]=[t("属性插值伤害")])),_:1}),e[124]||(e[124]=t(" + ")),r(m,null,{default:n(()=>e[117]||(e[117]=[t("摔跤加成")])),_:1}),e[125]||(e[125]=t(" + ")),r(m,null,{default:n(()=>e[118]||(e[118]=[t("对逃跑/易伤加成")])),_:1})]),d("div",null,[e[130]||(e[130]=t("玩家防御 = ")),r(m,null,{default:n(()=>e[126]||(e[126]=[t("体型防御")])),_:1}),e[131]||(e[131]=t(" + ")),r(m,null,{default:n(()=>e[127]||(e[127]=[t("命中部位基础护甲")])),_:1}),e[132]||(e[132]=t(" + ")),r(m,null,{default:n(()=>e[128]||(e[128]=[t("玩家装备护甲")])),_:1}),e[133]||(e[133]=t("（覆盖部位叠加） + ")),r(m,null,{default:n(()=>e[129]||(e[129]=[t("额外防御")])),_:1}),e[134]||(e[134]=t("（属性/状态）"))])]),_:1}),r(f,{class:"rounded-xl border border-neutral-200 dark:border-neutral-800 bg-neutral-50 dark:bg-neutral-900/60 px-4 py-3 shadow-sm"},{default:n(()=>[u(o).WoundSeverityMappings.length>0?(i(),s("div",me,[e[136]||(e[136]=d("div",{class:"text-sm uppercase tracking-wide text-neutral-500 dark:text-neutral-400"},"伤口等级（按伤害防御比）：",-1)),d("div",null," 伤害防御比 < "+p(u(o).WoundSeverityMappings[0].AttackDefenseRatio.x)+" ：无伤 ",1),(i(!0),s(y,null,j(u(o).WoundSeverityMappings,a=>(i(),s("div",null," 伤害防御比 "+p(a.AttackDefenseRatio.x)+" - "+p(a.AttackDefenseRatio.y)+" ："+p(M(a.WoundSeverity)),1))),256)),d("div",null," 伤害防御比 > "+p(u(o).WoundSeverityMappings[u(o).WoundSeverityMappings.length-1].AttackDefenseRatio.y)+" ：重伤 ",1)])):_("",!0)]),_:1}),r(f,{class:"rounded-xl border border-neutral-200 dark:border-neutral-800 bg-neutral-50 dark:bg-neutral-900/60 px-4 py-3 shadow-sm space-y-2"},{default:n(()=>[d("div",null,"默认护甲耐久损耗："+p(u(o).ArmorDefaultDurabilityDamage),1),u(o).DefaultWeaponDurabilityDamagePerHit.length>0?(i(),s("div",pe,[e[139]||(e[139]=d("div",{class:"text-sm uppercase tracking-wide text-neutral-500 dark:text-neutral-400"},"默认武器耐久损耗：",-1)),(i(!0),s(y,null,j(u(o).DefaultWeaponDurabilityDamagePerHit,a=>(i(),s("div",null,[e[137]||(e[137]=t(" - ")),d("span",_e,p(u(K)(a.Durability)),1),e[138]||(e[138]=t(" → 每次命中耐久变化 ")),r(E,{obj:a.Value},null,8,["obj"])]))),256))])):_("",!0)]),_:1})]),d("div",ge,[e[161]||(e[161]=d("h3",{class:"text-lg font-semibold text-neutral-900 dark:text-neutral-100"},"7. 逃跑与追击",-1)),e[162]||(e[162]=d("p",{class:"leading-relaxed text-neutral-700 dark:text-neutral-300"}," 逃跑为默认行动，成功则结束战斗；失败或被追上则继续回合。 ",-1)),r(f,{class:"rounded-xl border border-neutral-200 dark:border-neutral-800 bg-neutral-50 dark:bg-neutral-900/60 px-4 py-3 shadow-sm"},{default:n(()=>e[141]||(e[141]=[t(" 追击判定：玩家追击值 / (玩家追击值 + 敌人逃脱值)"),d("br",null,null,-1),t("受地图逃生路径影响（无路径时可直接成功）。 ")])),_:1}),u(o).PlayerChaseSetup?(i(),s("div",fe,[r(f,null,{default:n(()=>[e[143]||(e[143]=d("div",null,"玩家追击值 = 基础追击值 + 追击属性修正：",-1)),d("div",null,[e[142]||(e[142]=t("基础追击值：")),r(E,{obj:u(o).PlayerChaseSetup.BasePlayerChaseValue},null,8,["obj"])]),(i(!0),s(y,null,j(u(o).PlayerChaseSetup.StatsBasedChaseModifiers,a=>(i(),s("div",null,[r(D,{obj:a},null,8,["obj"])]))),256))]),_:1}),u(o).PlayerChaseSetup.RequiredStatsForChasing.length>0?(i(),F(f,{key:0},{default:n(()=>[e[145]||(e[145]=d("div",null,"追击前置条件：",-1)),(i(!0),s(y,null,j(u(o).PlayerChaseSetup.RequiredStatsForChasing,a=>(i(),s("div",null,[r(P,{obj:a.Stat},null,8,["obj"]),e[144]||(e[144]=t(" = ")),r(E,{obj:a.TriggerRange},null,8,["obj"])]))),256))]),_:1})):_("",!0)])):_("",!0),u(o).DefaultEnemyEscapeCalculation?(i(),s("div",be,[r(f,{class:"space-y-2"},{default:n(()=>[e[160]||(e[160]=d("div",null,"敌人逃脱值 = 基础逃脱值 + 逃脱属性修正 + 状态修正 + 伤口修正",-1)),d("div",null,[e[146]||(e[146]=t("基础逃脱值：")),r(E,{obj:u(o).DefaultEnemyEscapeCalculation.BaseEnemyEscapeValue},null,8,["obj"])]),u(o).DefaultEnemyEscapeCalculation.StatsModifiers&&u(o).DefaultEnemyEscapeCalculation.StatsModifiers.length>0?(i(),s("div",Ee,[e[147]||(e[147]=d("div",null,"逃脱属性修正（按变量插值计算）：",-1)),(i(!0),s(y,null,j(u(o).DefaultEnemyEscapeCalculation.StatsModifiers,a=>(i(),s("div",{key:a.Stat.key},[r(D,{obj:a},null,8,["obj"])]))),128))])):_("",!0),u(o).DefaultEnemyEscapeCalculation.EnemyValuesModifiers?(i(),s("div",ye,[d("div",xe,[e[148]||(e[148]=d("span",{class:"text-durability"},"血量",-1)),e[149]||(e[149]=t()),r(k,{obj:u(o).DefaultEnemyEscapeCalculation.EnemyValuesModifiers.EnemyBloodMod},null,8,["obj"])]),d("div",je,[e[150]||(e[150]=d("span",{class:"text-durability"},"耐力",-1)),e[151]||(e[151]=t()),r(k,{obj:u(o).DefaultEnemyEscapeCalculation.EnemyValuesModifiers.EnemyStaminaMod},null,8,["obj"])])])):_("",!0),u(o).DefaultEnemyEscapeCalculation.EnemyWoundModifiers?(i(),s("div",Te,[d("div",ke,[e[152]||(e[152]=t("累计伤口 ")),r(k,{obj:u(o).DefaultEnemyEscapeCalculation.EnemyWoundModifiers.AllWoundModifier},null,8,["obj"])]),u(o).DefaultEnemyEscapeCalculation.EnemyWoundModifiers.HeadWoundModifier.InterpolatedAddedValue.Active?(i(),s("div",De,[e[153]||(e[153]=t(" 头部伤口 ")),r(k,{obj:u(o).DefaultEnemyEscapeCalculation.EnemyWoundModifiers.HeadWoundModifier},null,8,["obj"])])):_("",!0),u(o).DefaultEnemyEscapeCalculation.EnemyWoundModifiers.TorsoWoundModifier.InterpolatedAddedValue.Active?(i(),s("div",Ae,[e[154]||(e[154]=t(" 躯干伤口 ")),r(k,{obj:u(o).DefaultEnemyEscapeCalculation.EnemyWoundModifiers.TorsoWoundModifier},null,8,["obj"])])):_("",!0),u(o).DefaultEnemyEscapeCalculation.EnemyWoundModifiers.LArmWoundModifier.InterpolatedAddedValue.Active?(i(),s("div",Ve,[e[155]||(e[155]=t(" 左臂伤口 ")),r(k,{obj:u(o).DefaultEnemyEscapeCalculation.EnemyWoundModifiers.LArmWoundModifier},null,8,["obj"])])):_("",!0),u(o).DefaultEnemyEscapeCalculation.EnemyWoundModifiers.RArmWoundModifier.InterpolatedAddedValue.Active?(i(),s("div",Le,[e[156]||(e[156]=t(" 右臂伤口 ")),r(k,{obj:u(o).DefaultEnemyEscapeCalculation.EnemyWoundModifiers.RArmWoundModifier},null,8,["obj"])])):_("",!0),u(o).DefaultEnemyEscapeCalculation.EnemyWoundModifiers.LLegWoundModifier.InterpolatedAddedValue.Active?(i(),s("div",Re,[e[157]||(e[157]=t(" 左腿伤口 ")),r(k,{obj:u(o).DefaultEnemyEscapeCalculation.EnemyWoundModifiers.LLegWoundModifier},null,8,["obj"])])):_("",!0),u(o).DefaultEnemyEscapeCalculation.EnemyWoundModifiers.RLegWoundModifier.InterpolatedAddedValue.Active?(i(),s("div",Pe,[e[158]||(e[158]=t(" 右腿伤口 ")),r(k,{obj:u(o).DefaultEnemyEscapeCalculation.EnemyWoundModifiers.RLegWoundModifier},null,8,["obj"])])):_("",!0),e[159]||(e[159]=d("div",{class:"text-xs text-neutral-500 dark:text-neutral-400"},"（伤口越多，逃脱值越低，追击成功率越高。）",-1))])):_("",!0)]),_:1})])):_("",!0)]),e[166]||(e[166]=d("div",{class:"space-y-3 border-t border-neutral-200 dark:border-neutral-800 pt-6"},[d("h3",{class:"text-lg font-semibold text-neutral-900 dark:text-neutral-100"},"8. 战斗结束"),d("p",{class:"leading-relaxed text-neutral-700 dark:text-neutral-300"}," 敌人血量降至0或逃跑成功视为玩家胜利；玩家血量归零或被强制撤退视为失败；双方未决则继续下一回合。 ")],-1))])}}});export{Ze as default};
