import{C as P,aa as G,m as _,c as f,o as u,_ as U,b4 as W,u as V,q as x,aq as Y,i as h,k as $,x as k,a,A as J,t as g,b5 as X,h as y,B as I,D as K,b6 as C,ad as E,b as T,aL as A,r as S,F as B,H,b3 as O,d as Z,b7 as ee,ae as te,e as ne,f as oe,z as m,g as ae,b8 as ie,l as se,n as re}from"./BpWfJitR.js";import{s as z}from"./BPlNJhXa.js";import{s as N}from"./CNdxp9zu.js";import{_ as le}from"./PFLRDySK.js";import{_ as ce}from"./BgMjpOdT.js";import{_ as ue}from"./Dr5xrtTs.js";import"./GXW5HAaK.js";import"./CfyGsr1A.js";var de=function(n){var t=n.dt;return`
.p-textarea {
    font-family: inherit;
    font-feature-settings: inherit;
    font-size: 1rem;
    color: `.concat(t("textarea.color"),`;
    background: `).concat(t("textarea.background"),`;
    padding-block: `).concat(t("textarea.padding.y"),`;
    padding-inline: `).concat(t("textarea.padding.x"),`;
    border: 1px solid `).concat(t("textarea.border.color"),`;
    transition: background `).concat(t("textarea.transition.duration"),", color ").concat(t("textarea.transition.duration"),", border-color ").concat(t("textarea.transition.duration"),", outline-color ").concat(t("textarea.transition.duration"),", box-shadow ").concat(t("textarea.transition.duration"),`;
    appearance: none;
    border-radius: `).concat(t("textarea.border.radius"),`;
    outline-color: transparent;
    box-shadow: `).concat(t("textarea.shadow"),`;
}

.p-textarea:enabled:hover {
    border-color: `).concat(t("textarea.hover.border.color"),`;
}

.p-textarea:enabled:focus {
    border-color: `).concat(t("textarea.focus.border.color"),`;
    box-shadow: `).concat(t("textarea.focus.ring.shadow"),`;
    outline: `).concat(t("textarea.focus.ring.width")," ").concat(t("textarea.focus.ring.style")," ").concat(t("textarea.focus.ring.color"),`;
    outline-offset: `).concat(t("textarea.focus.ring.offset"),`;
}

.p-textarea.p-invalid {
    border-color: `).concat(t("textarea.invalid.border.color"),`;
}

.p-textarea.p-variant-filled {
    background: `).concat(t("textarea.filled.background"),`;
}

.p-textarea.p-variant-filled:enabled:focus {
    background: `).concat(t("textarea.filled.focus.background"),`;
}

.p-textarea:disabled {
    opacity: 1;
    background: `).concat(t("textarea.disabled.background"),`;
    color: `).concat(t("textarea.disabled.color"),`;
}

.p-textarea::placeholder {
    color: `).concat(t("textarea.placeholder.color"),`;
}

.p-textarea.p-invalid::placeholder {
    color: `).concat(t("textarea.invalid.placeholder.color"),`;
}

.p-textarea-fluid {
    width: 100%;
}

.p-textarea-resizable {
    overflow: hidden;
    resize: none;
}

.p-textarea-sm {
    font-size: `).concat(t("textarea.sm.font.size"),`;
    padding-block: `).concat(t("textarea.sm.padding.y"),`;
    padding-inline: `).concat(t("textarea.sm.padding.x"),`;
}

.p-textarea-lg {
    font-size: `).concat(t("textarea.lg.font.size"),`;
    padding-block: `).concat(t("textarea.lg.padding.y"),`;
    padding-inline: `).concat(t("textarea.lg.padding.x"),`;
}
`)},fe={root:function(n){var t=n.instance,d=n.props;return["p-textarea p-component",{"p-filled":t.$filled,"p-textarea-resizable ":d.autoResize,"p-textarea-sm p-inputfield-sm":d.size==="small","p-textarea-lg p-inputfield-lg":d.size==="large","p-invalid":t.$invalid,"p-variant-filled":t.$variant==="filled","p-textarea-fluid":t.$fluid}]}},pe=P.extend({name:"textarea",theme:de,classes:fe}),me={name:"BaseTextarea",extends:G,props:{autoResize:Boolean},style:pe,provide:function(){return{$pcTextarea:this,$parentInstance:this}}},M={name:"Textarea",extends:me,inheritAttrs:!1,observer:null,mounted:function(){var n=this;this.autoResize&&(this.observer=new ResizeObserver(function(){n.resize()}),this.observer.observe(this.$el))},updated:function(){this.autoResize&&this.resize()},beforeUnmount:function(){this.observer&&this.observer.disconnect()},methods:{resize:function(){this.$el.offsetParent&&(this.$el.style.height="auto",this.$el.style.height=this.$el.scrollHeight+"px",parseFloat(this.$el.style.height)>=parseFloat(this.$el.style.maxHeight)?(this.$el.style.overflowY="scroll",this.$el.style.height=this.$el.style.maxHeight):this.$el.style.overflow="hidden")},onInput:function(n){this.autoResize&&this.resize(),this.writeValue(n.target.value,n)}},computed:{attrs:function(){return _(this.ptmi("root",{context:{filled:this.$filled,disabled:this.disabled}}),this.formField)}}},he=["value","disabled","aria-invalid"];function ve(e,n,t,d,l,i){return u(),f("textarea",_({class:e.cx("root"),value:e.d_value,disabled:e.disabled,"aria-invalid":e.invalid||void 0,onInput:n[0]||(n[0]=function(){return i.onInput&&i.onInput.apply(i,arguments)})},i.attrs),null,16,he)}M.render=ve;const ge={class:"p-fluid"},be={class:"p-field flex flex-col"},ye={for:"contact"},ke={class:"p-field flex flex-col"},xe={for:"feedback"},_e={key:0,class:"p-error"},we={key:1,class:"p-error"},$e={__name:"FeedbackDialog",setup(e){const n=W(),t=V(),d=x(!1),l=x(""),i=x(""),b=x(!1),c=x(!1),s=x(0),o=x(""),v=Y(()=>R(new Date,new Date(o.value))&&s.value>=10),F=()=>{j(),d.value=!0},D=()=>{d.value=!1,l.value="",b.value=!1},L=async()=>{if(b.value=!0,!(!l.value||v.value)){c.value=!0;try{const r=new FormData;if(r.append("_subject","网站反馈"),r.append("feedback",l.value),r.append("contact",i.value),(await fetch("https://formsubmit.co/ajax/crazyjunichi@hotmail.com",{method:"POST",body:r})).ok)n.add({severity:"success",detail:t.t("反馈已提交，感谢您的意见！"),life:3e3}),Q();else throw new Error("提交失败")}catch(r){n.add({severity:"success",detail:t.t("提交反馈时出错，请稍后再试"),life:3e3}),console.error("反馈提交错误:",r)}finally{c.value=!1,D()}}},j=()=>{const r=localStorage.getItem("feedbackSubmissions");if(r){const{count:p,date:w}=JSON.parse(r);s.value=p,o.value=w}},Q=()=>{const r=new Date,p=o.value?new Date(o.value):null;R(r,p)?s.value++:(s.value=1,o.value=r.toISOString()),localStorage.setItem("feedbackSubmissions",JSON.stringify({count:s.value,date:o.value}))},R=(r,p)=>!r||!p?!1:r.getFullYear()===p.getFullYear()&&r.getMonth()===p.getMonth()&&r.getDate()===p.getDate();return(r,p)=>(u(),f("div",null,[h($(z),{label:r.$t("提交反馈"),icon:"pi pi-comment",onClick:F},null,8,["label"]),h($(N),{visible:d.value,"onUpdate:visible":p[2]||(p[2]=w=>d.value=w),header:r.$t("提交反馈"),modal:!0,style:{width:"500px"}},{footer:k(()=>[h($(z),{label:r.$t("取消"),icon:"pi pi-times",onClick:D,class:"p-button-text"},null,8,["label"]),h($(z),{label:r.$t("提交"),icon:"pi pi-check",onClick:L,disabled:v.value,loading:c.value},null,8,["label","disabled","loading"])]),default:k(()=>[a("div",ge,[a("div",be,[a("label",ye,g(r.$t("（可选）您的联系方式")),1),J(a("input",{id:"contact","onUpdate:modelValue":p[0]||(p[0]=w=>i.value=w),type:"text",class:"p-inputtext p-component"},null,512),[[X,i.value]])]),a("div",ke,[a("label",xe,g(r.$t("您的反馈意见")),1),h($(M),{id:"feedback",modelValue:l.value,"onUpdate:modelValue":p[1]||(p[1]=w=>l.value=w),autoResize:!0,rows:"5",required:"",class:I({"p-invalid":b.value&&!l.value})},null,8,["modelValue","class"]),b.value&&!l.value?(u(),f("small",_e,g(r.$t("请填写反馈内容")),1)):y("",!0),v.value?(u(),f("small",we," 您今天已提交 "+g(s.value)+" 次反馈，每天最多提交10次 ",1)):y("",!0)])])]),_:1},8,["visible","header"])]))}},je=U($e,[["__scopeId","data-v-1de262f2"]]);var De=function(n){var t=n.dt;return`
.p-confirmdialog .p-dialog-content {
    display: flex;
    align-items: center;
    gap:  `.concat(t("confirmdialog.content.gap"),`;
}

.p-confirmdialog-icon {
    color: `).concat(t("confirmdialog.icon.color"),`;
    font-size: `).concat(t("confirmdialog.icon.size"),`;
    width: `).concat(t("confirmdialog.icon.size"),`;
    height: `).concat(t("confirmdialog.icon.size"),`;
}
`)},Ce={root:"p-confirmdialog",icon:"p-confirmdialog-icon",message:"p-confirmdialog-message",pcRejectButton:"p-confirmdialog-reject-button",pcAcceptButton:"p-confirmdialog-accept-button"},Se=P.extend({name:"confirmdialog",theme:De,classes:Ce}),ze={name:"BaseConfirmDialog",extends:K,props:{group:String,breakpoints:{type:Object,default:null},draggable:{type:Boolean,default:!0}},style:Se,provide:function(){return{$pcConfirmDialog:this,$parentInstance:this}}},q={name:"ConfirmDialog",extends:ze,confirmListener:null,closeListener:null,data:function(){return{visible:!1,confirmation:null}},mounted:function(){var n=this;this.confirmListener=function(t){t&&t.group===n.group&&(n.confirmation=t,n.confirmation.onShow&&n.confirmation.onShow(),n.visible=!0)},this.closeListener=function(){n.visible=!1,n.confirmation=null},C.on("confirm",this.confirmListener),C.on("close",this.closeListener)},beforeUnmount:function(){C.off("confirm",this.confirmListener),C.off("close",this.closeListener)},methods:{accept:function(){this.confirmation.accept&&this.confirmation.accept(),this.visible=!1},reject:function(){this.confirmation.reject&&this.confirmation.reject(),this.visible=!1},onHide:function(){this.confirmation.onHide&&this.confirmation.onHide(),this.visible=!1}},computed:{appendTo:function(){return this.confirmation?this.confirmation.appendTo:"body"},target:function(){return this.confirmation?this.confirmation.target:null},modal:function(){return this.confirmation?this.confirmation.modal==null?!0:this.confirmation.modal:!0},header:function(){return this.confirmation?this.confirmation.header:null},message:function(){return this.confirmation?this.confirmation.message:null},blockScroll:function(){return this.confirmation?this.confirmation.blockScroll:!0},position:function(){return this.confirmation?this.confirmation.position:null},acceptLabel:function(){if(this.confirmation){var n,t=this.confirmation;return t.acceptLabel||((n=t.acceptProps)===null||n===void 0?void 0:n.label)||this.$primevue.config.locale.accept}return this.$primevue.config.locale.accept},rejectLabel:function(){if(this.confirmation){var n,t=this.confirmation;return t.rejectLabel||((n=t.rejectProps)===null||n===void 0?void 0:n.label)||this.$primevue.config.locale.reject}return this.$primevue.config.locale.reject},acceptIcon:function(){var n;return this.confirmation?this.confirmation.acceptIcon:(n=this.confirmation)!==null&&n!==void 0&&n.acceptProps?this.confirmation.acceptProps.icon:null},rejectIcon:function(){var n;return this.confirmation?this.confirmation.rejectIcon:(n=this.confirmation)!==null&&n!==void 0&&n.rejectProps?this.confirmation.rejectProps.icon:null},autoFocusAccept:function(){return this.confirmation.defaultFocus===void 0||this.confirmation.defaultFocus==="accept"},autoFocusReject:function(){return this.confirmation.defaultFocus==="reject"},closeOnEscape:function(){return this.confirmation?this.confirmation.closeOnEscape:!0}},components:{Dialog:N,Button:z}};function Ie(e,n,t,d,l,i){var b=E("Button"),c=E("Dialog");return u(),T(c,{visible:l.visible,"onUpdate:visible":[n[2]||(n[2]=function(s){return l.visible=s}),i.onHide],role:"alertdialog",class:I(e.cx("root")),modal:i.modal,header:i.header,blockScroll:i.blockScroll,appendTo:i.appendTo,position:i.position,breakpoints:e.breakpoints,closeOnEscape:i.closeOnEscape,draggable:e.draggable,pt:e.pt,unstyled:e.unstyled},A({default:k(function(){return[e.$slots.container?y("",!0):(u(),f(B,{key:0},[e.$slots.message?(u(),T(H(e.$slots.message),{key:1,message:l.confirmation},null,8,["message"])):(u(),f(B,{key:0},[S(e.$slots,"icon",{},function(){return[e.$slots.icon?(u(),T(H(e.$slots.icon),{key:0,class:I(e.cx("icon"))},null,8,["class"])):l.confirmation.icon?(u(),f("span",_({key:1,class:[l.confirmation.icon,e.cx("icon")]},e.ptm("icon")),null,16)):y("",!0)]}),a("span",_({class:e.cx("message")},e.ptm("message")),g(i.message),17)],64))],64))]}),_:2},[e.$slots.container?{name:"container",fn:k(function(s){return[S(e.$slots,"container",{message:l.confirmation,closeCallback:s.onclose,acceptCallback:i.accept,rejectCallback:i.reject})]}),key:"0"}:void 0,e.$slots.container?void 0:{name:"footer",fn:k(function(){var s;return[h(b,_({class:[e.cx("pcRejectButton"),l.confirmation.rejectClass],autofocus:i.autoFocusReject,unstyled:e.unstyled,text:((s=l.confirmation.rejectProps)===null||s===void 0?void 0:s.text)||!1,onClick:n[0]||(n[0]=function(o){return i.reject()})},l.confirmation.rejectProps,{label:i.rejectLabel,pt:e.ptm("pcRejectButton")}),A({_:2},[i.rejectIcon||e.$slots.rejecticon?{name:"icon",fn:k(function(o){return[S(e.$slots,"rejecticon",{},function(){return[a("span",_({class:[i.rejectIcon,o.class]},e.ptm("pcRejectButton").icon,{"data-pc-section":"rejectbuttonicon"}),null,16)]})]}),key:"0"}:void 0]),1040,["class","autofocus","unstyled","text","label","pt"]),h(b,_({label:i.acceptLabel,class:[e.cx("pcAcceptButton"),l.confirmation.acceptClass],autofocus:i.autoFocusAccept,unstyled:e.unstyled,onClick:n[1]||(n[1]=function(o){return i.accept()})},l.confirmation.acceptProps,{pt:e.ptm("pcAcceptButton")}),A({_:2},[i.acceptIcon||e.$slots.accepticon?{name:"icon",fn:k(function(o){return[S(e.$slots,"accepticon",{},function(){return[a("span",_({class:[i.acceptIcon,o.class]},e.ptm("pcAcceptButton").icon,{"data-pc-section":"acceptbuttonicon"}),null,16)]})]}),key:"0"}:void 0]),1040,["label","class","autofocus","unstyled","pt"])]}),key:"1"}]),1032,["visible","class","modal","header","blockScroll","appendTo","position","breakpoints","closeOnEscape","draggable","onUpdate:visible","pt","unstyled"])}q.render=Ie;const Be=O("/library_hero_zh.jpg"),Fe=O("/library_hero_en.jpg"),Le=O("/library_hero_ja.jpg"),Te={class:"relative"},Ae={key:0,id:"hero",src:Be,class:"relative object-cover masked-image"},Oe={key:1,id:"hero",src:Fe,class:"relative object-cover masked-image"},Re={key:2,id:"hero",src:Le,class:"relative object-cover masked-image"},Ee={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 p-4"},He={class:"flex flex-col items-center justify-center gap-4 h-80 border border-current/30 border-dashed rounded-lg shadow-md"},Pe={class:"text-red-400/90 text-center whitespace-pre-wrap"},Ue={class:"font-bold text-3xl text-center text-(--ui-primary)"},We={key:0,class:"text-center whitespace-pre-wrap"},Ve={key:1,class:"text-center whitespace-pre-wrap"},Ne={key:2,class:"text-center whitespace-pre-wrap"},Me={style:{color:"#f4f35e"}},qe={key:3,class:"text-center whitespace-pre-wrap"},Qe={class:"flex flex-col items-center w-full gap-4 border-b border-surface-200 dark:border-surface-700"},Ge={class:"relative col-span-1 md:col-span-1 lg:col-span-3 flex flex-col border border-current/30 border-dashed rounded-lg shadow-md p-4"},Ye={class:"grow flex flex-col gap-2"},Je={class:"flex"},Xe={class:"text-lg font-bold grow"},Ke={href:"_PageHistory",class:"text-sm underline"},Ze={class:"flex flex-wrap gap-x-2"},et={class:"text-right"},tt=Z({__name:"index",setup(e){W();const n=ee(),t=ie(),d=x([]);te(async()=>{const c=(await ne(async()=>{const{default:o}=await import("./oqmlmqP3.js");return{default:o}},[],import.meta.url)).default,s=c.histories.filter(o=>o.createAt>Date.now()-1e3*60*60*24*30).sort((o,v)=>v.createAt-o.createAt)[0].version;s?d.value=c.histories.filter(o=>o.type!="dialog").filter(o=>!o.key.includes("DEBUG")).filter(o=>!o.key.startsWith("NOT_USED")).filter(o=>!o.key.startsWith("HOTFIX_")).filter(o=>!o.key.startsWith("TEST_")).filter(o=>o.version==s).sort((o,v)=>o.type.localeCompare(v.type)):d.value=c.histories.filter(o=>o.createAt>Date.now()-1e3*60*60*24*7).filter(o=>!o.key.includes("DEBUG")).sort((o,v)=>v.createAt-o.createAt).slice(0,20),d.value=d.value.filter(o=>!o.key.startsWith("Test")&&!o.key.startsWith("HOTFIX_")),console.log(d.value.map(o=>`// ${o.key} ${o.en}`).join(`
`)),i.locale.value=="en"&&!localStorage.getItem("wikiConfirmShown")&&(l(),localStorage.setItem("wikiConfirmShown","1"))});const l=()=>{n.require({message:"",header:"Warning",icon:"pi pi-exclamation-triangle",rejectProps:{label:"Official Wiki",severity:"secondary"},acceptProps:{label:"Continue"},accept:()=>{},reject:()=>{window.location.href="https://cardsurvival.wiki.gg/"}})},i=V();function b(){se({title:`${i.t(re().$gameName)}`,htmlAttrs:{lang:i.locale.value}})}return b(),oe(i.locale,b),(c,s)=>{const o=je,v=le,F=q,D=ce,L=ue;return u(),f(B,null,[a("div",null,[a("div",Te,[c.$i18n.locale=="zh"?(u(),f("img",Ae)):y("",!0),c.$i18n.locale=="en"?(u(),f("img",Oe)):y("",!0),c.$i18n.locale=="ja"?(u(),f("img",Re)):y("",!0)]),a("div",Ee,[a("div",He,[a("div",Pe,g(c.$t("知道的越多, 乐趣就越少")),1),a("div",Ue," ⚠️ "+g(c.$t("持续建设中"))+"…… ",1),c.$i18n.locale=="zh"?(u(),f("div",We,s[0]||(s[0]=[a("div",null,[m("Wiki反馈：QQ群 "),a("span",{class:"text-sky-300"},"752206926")],-1),a("div",null,[m("MOD&游戏交流：QQ群 "),a("span",{class:"text-sky-300"},"1036598678")],-1),a("div",null,[m("官方Wiki站（英文）："),a("a",{href:"https://cardsurvival.wiki.gg/",class:"text-sky-300 underline",target:"_blank",rel:"noopener noreferrer"},"点击跳转")],-1)]))):c.$i18n.locale=="en"?(u(),f("div",Ve,s[1]||(s[1]=[a("div",null,[m("Official Wiki site: "),a("a",{href:"https://cardsurvival.wiki.gg/",class:"text-sky-300 underline",target:"_blank",rel:"noopener noreferrer"},"https://cardsurvival.wiki.gg/")],-1),a("span",null,"Contact me at ",-1),a("span",{class:"text-sky-300"},"crazyjunichi@hotmail.com",-1)]))):y("",!0),h(o),c.$i18n.locale=="zh"?(u(),f("div",Ne,[a("span",Me,[s[3]||(s[3]=m(" 如页面过旧，请按")),h(v,null,{default:k(()=>s[2]||(s[2]=[m("Ctrl+F5")])),_:1}),s[4]||(s[4]=m("刷新 "))])])):c.$i18n.locale=="en"?(u(),f("div",qe,s[5]||(s[5]=[a("span",null,null,-1),m("> ")]))):y("",!0),h(F,null,{message:k(j=>[a("div",Qe,[a("i",{class:I([j.message.icon,"!text-6xl text-primary-500"])},null,2),s[6]||(s[6]=a("p",{class:"wrap text-center"},[m(" This data site contains "),a("span",{class:"text-red-500"},"spoilers"),m(" and is intended for experienced players only."),a("br"),m(" If you are looking for beginner guides, please visit the official Wiki"),a("br"),m(" https://cardsurvival.wiki.gg/")],-1))])]),_:1})]),a("div",Ge,[a("div",Ye,[a("div",Je,[a("div",Xe,g(c.$t("最近新增页面"))+"：",1),a("div",null,[a("a",Ke,"("+g(c.$t("查看版本变更"))+")",1)])]),h(D),a("div",Ze,[(u(!0),f(B,null,ae($(d),j=>(u(),f("div",null,[h(L,{obj:j},null,8,["obj"])]))),256))])]),a("div",et,g(c.$t("当前页面总数"))+" ： "+g($(t).public.pageCount),1)]),s[7]||(s[7]=a("div",null,null,-1))])]),y("",!0)],64)}}}),ut=U(tt,[["__scopeId","data-v-6ca3a99e"]]);export{ut as default};
