import{D as g}from"./BIEcodB8.js";var A=(e=>(e.SpoilageTime="SpoilageTime",e.UsageDurability="UsageDurability",e.FuelCapacity="FuelCapacity",e.Progress="Progress",e.SpecialDurability1="SpecialDurability1",e.SpecialDurability2="SpecialDurability2",e.SpecialDurability3="SpecialDurability3",e.SpecialDurability4="SpecialDurability4",e))(A||{});const O=["SpoilageTime","UsageDurability","FuelCapacity","Progress","SpecialDurability1","SpecialDurability2","SpecialDurability3","SpecialDurability4"];var l={Identity:function(e){return e},True:function(){return!0},Blank:function(){}},v={Boolean:"boolean",Number:"number",String:"string",Undefined:"undefined",Function:"function"},L={"":l.Identity},o={createLambda:function(e){if(e==null)return l.Identity;if(typeof e===v.String){let t=L[e];if(t!=null)return t;if(e.indexOf("=>")===-1){const n=new RegExp("[$]+","g");let r=0,u;for(;(u=n.exec(e))!=null;)u[0].length>r&&(r=u[0].length);const a=[];for(let c=1;c<=r;c++){let p="";for(let h=0;h<c;h++)p+="$";a.push(p)}const f=a.join(",");return t=new Function(f,"return "+e),L[e]=t,t}else{const n=e.match(/^[(\s]*([^()]*?)[)\s]*=>(.*)/);return t=new Function(n[1],n[2].match(/\breturn\b/)?n[2]:"return "+n[2]),L[e]=t,t}}return e},defineProperty:function(e,t,n){Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})},compare:function(e,t){return e===t?0:e>t?1:-1},dispose:function(e){e!=null&&e.dispose()},hasNativeIteratorSupport:function(){return typeof Symbol<"u"&&typeof Symbol.iterator<"u"}},E={Before:0,Running:1,After:2},s=function(e,t,n){var r=new D,u=E.Before;this.current=r.current,this.moveNext=function(){try{switch(u){case E.Before:u=E.Running,e();case E.Running:return t.apply(r)?!0:(this.dispose(),!1);case E.After:return!1}}catch(a){throw this.dispose(),a}},this.dispose=function(){if(u==E.Running)try{n()}finally{u=E.After}}},D=function(){var e=null;this.current=function(){return e},this.yieldReturn=function(t){return e=t,!0},this.yieldBreak=function(){return!1}},i=function(e){this.getEnumerator=e};i.Utils={};i.Utils.createLambda=function(e){return o.createLambda(e)};i.Utils.createEnumerable=function(e){return new i(e)};i.Utils.createEnumerator=function(e,t,n){return new s(e,t,n)};i.Utils.extendTo=function(e){var t=e.prototype,n;e===Array?(n=m.prototype,o.defineProperty(t,"getSource",function(){return this})):(n=i.prototype,o.defineProperty(t,"getEnumerator",function(){return i.from(this).getEnumerator()}));for(let r in n){const u=n[r];t[r]!=u&&(t[r]!=null&&(r=r+"ByLinq",t[r]==u)||u instanceof Function&&o.defineProperty(t,r,u))}};i.Utils.recallFrom=function(e){var t=e.prototype,n;e===Array?(n=m.prototype,delete t.getSource):(n=i.prototype,delete t.getEnumerator);for(const r in n){const u=n[r];t[r+"ByLinq"]?delete t[r+"ByLinq"]:t[r]==u&&u instanceof Function&&delete t[r]}};i.choice=function(){var e=arguments;return new i(function(){return new s(function(){e=e[0]instanceof Array?e[0]:e[0].getEnumerator!=null?e[0].toArray():e},function(){return this.yieldReturn(e[Math.floor(Math.random()*e.length)])},l.Blank)})};i.cycle=function(){var e=arguments;return new i(function(){var t=0;return new s(function(){e=e[0]instanceof Array?e[0]:e[0].getEnumerator!=null?e[0].toArray():e},function(){return t>=e.length&&(t=0),this.yieldReturn(e[t++])},l.Blank)})};i.empty=function(){return new i(function(){return new s(l.Blank,function(){return!1},l.Blank)})};i.from=function(e){if(e==null)return i.empty();if(e instanceof i)return e;if(typeof e==v.Number||typeof e==v.Boolean)return i.repeat(e,1);if(typeof e==v.String)return new i(function(){var t=0;return new s(l.Blank,function(){return t<e.length?this.yieldReturn(e.charAt(t++)):!1},l.Blank)});if(typeof e==v.Function&&Object.keys(e).length==0)return new i(function(){var t;return new s(function(){t=e()[Symbol.iterator]()},function(){var n=t.next();return n.done?!1:this.yieldReturn(n.value)},l.Blank)});if(typeof e!=v.Function){if(typeof e.length==v.Number)return new m(e);if(typeof Symbol<"u"&&typeof e[Symbol.iterator]<"u"){let t;return new i(function(){return new s(function(){t=e[Symbol.iterator]()},function(){var n=t.next();return n.done?!1:this.yieldReturn(n.value)},l.Blank)})}if(typeof e.next==v.Function)return new i(function(){return new s(l.Blank,function(){var t=e.next();return t.done?!1:this.yieldReturn(t.value)},l.Blank)})}return new i(function(){var t=[],n=0;return new s(function(){for(const r in e){const u=e[r];!(u instanceof Function)&&Object.prototype.hasOwnProperty.call(e,r)&&t.push({key:r,value:u})}},function(){return n<t.length?this.yieldReturn(t[n++]):!1},l.Blank)})},i.make=function(e){return i.repeat(e,1)};i.matches=function(e,t,n){return n==null&&(n=""),t instanceof RegExp&&(n+=t.ignoreCase?"i":"",n+=t.multiline?"m":"",t=t.source),n.indexOf("g")===-1&&(n+="g"),new i(function(){var r;return new s(function(){r=new RegExp(t,n)},function(){var u=r.exec(e);return u?this.yieldReturn(u):!1},l.Blank)})};i.range=function(e,t,n){return n==null&&(n=1),new i(function(){var r,u=0;return new s(function(){r=e-n},function(){return u++<t?this.yieldReturn(r+=n):this.yieldBreak()},l.Blank)})};i.rangeDown=function(e,t,n){return n==null&&(n=1),new i(function(){var r,u=0;return new s(function(){r=e+n},function(){return u++<t?this.yieldReturn(r-=n):this.yieldBreak()},l.Blank)})};i.rangeTo=function(e,t,n){return n==null&&(n=1),e<t?new i(function(){var r;return new s(function(){r=e-n},function(){var u=r+=n;return u<=t?this.yieldReturn(u):this.yieldBreak()},l.Blank)}):new i(function(){var r;return new s(function(){r=e+n},function(){var u=r-=n;return u>=t?this.yieldReturn(u):this.yieldBreak()},l.Blank)})};i.repeat=function(e,t){return t!=null?i.repeat(e).take(t):new i(function(){return new s(l.Blank,function(){return this.yieldReturn(e)},l.Blank)})};i.repeatWithFinalize=function(e,t){return e=o.createLambda(e),t=o.createLambda(t),new i(function(){var n;return new s(function(){n=e()},function(){return this.yieldReturn(n)},function(){n!=null&&(t(n),n=null)})})};i.generate=function(e,t){return t!=null?i.generate(e).take(t):(e=o.createLambda(e),new i(function(){return new s(l.Blank,function(){return this.yieldReturn(e())},l.Blank)}))};i.toInfinity=function(e,t){return e==null&&(e=0),t==null&&(t=1),new i(function(){var n;return new s(function(){n=e-t},function(){return this.yieldReturn(n+=t)},l.Blank)})};i.toNegativeInfinity=function(e,t){return e==null&&(e=0),t==null&&(t=1),new i(function(){var n;return new s(function(){n=e+t},function(){return this.yieldReturn(n-=t)},l.Blank)})};i.unfold=function(e,t){return t=o.createLambda(t),new i(function(){var n=!0,r;return new s(l.Blank,function(){return n?(n=!1,r=e,this.yieldReturn(r)):(r=t(r),this.yieldReturn(r))},l.Blank)})};i.defer=function(e){return new i(function(){var t;return new s(function(){t=i.from(e()).getEnumerator()},function(){return t.moveNext()?this.yieldReturn(t.current()):this.yieldBreak()},function(){o.dispose(t)})})};i.prototype.traverseBreadthFirst=function(e,t){var n=this;return e=o.createLambda(e),t=o.createLambda(t),new i(function(){var r,u=0,a=[];return new s(function(){r=n.getEnumerator()},function(){for(;;){if(r.moveNext())return a.push(r.current()),this.yieldReturn(t(r.current(),u));const f=i.from(a).selectMany(function(c){return e(c)});if(f.any())u++,a=[],o.dispose(r),r=f.getEnumerator();else return!1}},function(){o.dispose(r)})})};i.prototype.traverseDepthFirst=function(e,t){var n=this;return e=o.createLambda(e),t=o.createLambda(t),new i(function(){var r=[],u;return new s(function(){u=n.getEnumerator()},function(){for(;;){if(u.moveNext()){const a=t(u.current(),r.length);return r.push(u),u=i.from(e(u.current())).getEnumerator(),this.yieldReturn(a)}if(r.length<=0)return!1;o.dispose(u),u=r.pop()}},function(){try{o.dispose(u)}finally{i.from(r).forEach(function(a){a.dispose()})}})})};i.prototype.flatten=function(){var e=this;return new i(function(){var t,n=null;return new s(function(){t=e.getEnumerator()},function(){for(;;){if(n!=null){if(n.moveNext())return this.yieldReturn(n.current());n=null}if(t.moveNext())if(t.current()instanceof Array){o.dispose(n),n=i.from(t.current()).selectMany(l.Identity).flatten().getEnumerator();continue}else return this.yieldReturn(t.current());return!1}},function(){try{o.dispose(t)}finally{o.dispose(n)}})})};i.prototype.pairwise=function(e){var t=this;return e=o.createLambda(e),new i(function(){var n;return new s(function(){n=t.getEnumerator(),n.moveNext()},function(){var r=n.current();return n.moveNext()?this.yieldReturn(e(r,n.current())):!1},function(){o.dispose(n)})})};i.prototype.scan=function(e,t){var n;t==null?(t=o.createLambda(e),n=!1):(t=o.createLambda(t),n=!0);var r=this;return new i(function(){var u,a,f=!0;return new s(function(){u=r.getEnumerator()},function(){if(f){if(f=!1,n)return this.yieldReturn(a=e);if(u.moveNext())return this.yieldReturn(a=u.current())}return u.moveNext()?this.yieldReturn(a=t(a,u.current())):!1},function(){o.dispose(u)})})};i.prototype.select=function(e){if(e=o.createLambda(e),e.length<=1)return new x(this,null,e);var t=this;return new i(function(){var n,r=0;return new s(function(){n=t.getEnumerator()},function(){return n.moveNext()?this.yieldReturn(e(n.current(),r++)):!1},function(){o.dispose(n)})})};i.prototype.selectMany=function(e,t){var n=this;return e=o.createLambda(e),t==null&&(t=function(r,u){return u}),t=o.createLambda(t),new i(function(){var r,u=void 0,a=0;return new s(function(){r=n.getEnumerator()},function(){if(u===void 0&&!r.moveNext())return!1;do{if(u==null){const f=e(r.current(),a++);u=i.from(f).getEnumerator()}if(u.moveNext())return this.yieldReturn(t(r.current(),u.current()));o.dispose(u),u=null}while(r.moveNext());return!1},function(){try{o.dispose(r)}finally{o.dispose(u)}})})};i.prototype.where=function(e){if(e=o.createLambda(e),e.length<=1)return new b(this,e);var t=this;return new i(function(){var n,r=0;return new s(function(){n=t.getEnumerator()},function(){for(;n.moveNext();)if(e(n.current(),r++))return this.yieldReturn(n.current());return!1},function(){o.dispose(n)})})};i.prototype.choose=function(e){e=o.createLambda(e);var t=this;return new i(function(){var n,r=0;return new s(function(){n=t.getEnumerator()},function(){for(;n.moveNext();){const u=e(n.current(),r++);if(u!=null)return this.yieldReturn(u)}return this.yieldBreak()},function(){o.dispose(n)})})};i.prototype.ofType=function(e){var t;switch(e){case Number:t=v.Number;break;case String:t=v.String;break;case Boolean:t=v.Boolean;break;case Function:t=v.Function;break;default:t=null;break}return t===null?this.where(function(n){return n instanceof e}):this.where(function(n){return typeof n===t})};i.prototype.zip=function(){var e=arguments,t=o.createLambda(arguments[arguments.length-1]),n=this;if(arguments.length==2){const r=arguments[0];return new i(function(){var u,a,f=0;return new s(function(){u=n.getEnumerator(),a=i.from(r).getEnumerator()},function(){return u.moveNext()&&a.moveNext()?this.yieldReturn(t(u.current(),a.current(),f++)):!1},function(){try{o.dispose(u)}finally{o.dispose(a)}})})}else return new i(function(){var r,u=0;return new s(function(){var a=i.make(n).concat(i.from(e).takeExceptLast().select(i.from)).select(function(f){return f.getEnumerator()}).toArray();r=i.from(a)},function(){if(r.all(function(a){return a.moveNext()})){const a=r.select(function(f){return f.current()}).toArray();return a.push(u++),this.yieldReturn(t.apply(null,a))}else return this.yieldBreak()},function(){i.from(r).forEach(o.dispose)})})};i.prototype.merge=function(){var e=arguments,t=this;return new i(function(){var n,r=-1;return new s(function(){n=i.make(t).concat(i.from(e).select(i.from)).select(function(u){return u.getEnumerator()}).toArray()},function(){for(;n.length>0;){r=r>=n.length-1?0:r+1;const u=n[r];if(u.moveNext())return this.yieldReturn(u.current());u.dispose(),n.splice(r--,1)}return this.yieldBreak()},function(){i.from(n).forEach(o.dispose)})})};i.prototype.join=function(e,t,n,r,u){t=o.createLambda(t),n=o.createLambda(n),r=o.createLambda(r),u=o.createLambda(u);var a=this;return new i(function(){var f,c,p=null,h=0;return new s(function(){f=a.getEnumerator(),c=i.from(e).toLookup(n,l.Identity,u)},function(){for(;;){if(p!=null){let y=p[h++];if(y!==void 0)return this.yieldReturn(r(f.current(),y));y=null,h=0}if(f.moveNext()){const y=t(f.current());p=c.get(y).toArray()}else return!1}},function(){o.dispose(f)})})};i.prototype.leftJoin=function(e,t,n,r,u){t=o.createLambda(t),n=o.createLambda(n),r=o.createLambda(r),u=o.createLambda(u);var a=this;return new i(function(){var f,c,p=null,h=0;return new s(function(){f=a.getEnumerator(),c=i.from(e).toLookup(n,l.Identity,u)},function(){for(;;){if(p!=null){let y=p[h++];if(y!==void 0)return this.yieldReturn(r(f.current(),y));y=null,h=0}if(f.moveNext()){const y=t(f.current());if(p=c.get(y).toArray(),p==null||p.length==0)return this.yieldReturn(r(f.current(),null))}else return!1}},function(){o.dispose(f)})})};i.prototype.groupJoin=function(e,t,n,r,u){t=o.createLambda(t),n=o.createLambda(n),r=o.createLambda(r),u=o.createLambda(u);var a=this;return new i(function(){var f=a.getEnumerator(),c=null;return new s(function(){f=a.getEnumerator(),c=i.from(e).toLookup(n,l.Identity,u)},function(){if(f.moveNext()){const p=c.get(t(f.current()));return this.yieldReturn(r(f.current(),p))}return!1},function(){o.dispose(f)})})};i.prototype.all=function(e){e=o.createLambda(e);var t=!0;return this.forEach(function(n){if(!e(n))return t=!1,!1}),t};i.prototype.any=function(e){e=o.createLambda(e);var t=this.getEnumerator();try{if(arguments.length==0)return t.moveNext();for(;t.moveNext();)if(e(t.current()))return!0;return!1}finally{o.dispose(t)}};i.prototype.isEmpty=function(){return!this.any()};i.prototype.concat=function(){var e=this;if(arguments.length==1){const t=arguments[0];return new i(function(){var n,r;return new s(function(){n=e.getEnumerator()},function(){if(r==null){if(n.moveNext())return this.yieldReturn(n.current());r=i.from(t).getEnumerator()}return r.moveNext()?this.yieldReturn(r.current()):!1},function(){try{o.dispose(n)}finally{o.dispose(r)}})})}else{const t=arguments;return new i(function(){var n;return new s(function(){n=i.make(e).concat(i.from(t).select(i.from)).select(function(r){return r.getEnumerator()}).toArray()},function(){for(;n.length>0;){const r=n[0];if(r.moveNext())return this.yieldReturn(r.current());r.dispose(),n.splice(0,1)}return this.yieldBreak()},function(){i.from(n).forEach(o.dispose)})})}};i.prototype.insert=function(e,t){var n=this;return new i(function(){var r,u,a=0,f=!1;return new s(function(){r=n.getEnumerator(),u=i.from(t).getEnumerator()},function(){return a==e&&u.moveNext()?(f=!0,this.yieldReturn(u.current())):r.moveNext()?(a++,this.yieldReturn(r.current())):!f&&u.moveNext()?this.yieldReturn(u.current()):!1},function(){try{o.dispose(r)}finally{o.dispose(u)}})})};i.prototype.alternate=function(e){var t=this;return new i(function(){var n,r,u,a;return new s(function(){e instanceof Array||e.getEnumerator!=null?u=i.from(i.from(e).toArray()):u=i.make(e),r=t.getEnumerator(),r.moveNext()&&(n=r.current())},function(){for(;;){if(a!=null){if(a.moveNext())return this.yieldReturn(a.current());a=null}if(n==null&&r.moveNext()){n=r.current(),a=u.getEnumerator();continue}else if(n!=null){const f=n;return n=null,this.yieldReturn(f)}return this.yieldBreak()}},function(){try{o.dispose(r)}finally{o.dispose(a)}})})};i.prototype.contains=function(e,t){t=o.createLambda(t);var n=this.getEnumerator();try{for(;n.moveNext();)if(t(n.current())===e)return!0;return!1}finally{o.dispose(n)}};i.prototype.defaultIfEmpty=function(e){var t=this;return e===void 0&&(e=null),new i(function(){var n,r=!0;return new s(function(){n=t.getEnumerator()},function(){return n.moveNext()?(r=!1,this.yieldReturn(n.current())):r?(r=!1,this.yieldReturn(e)):!1},function(){o.dispose(n)})})};i.prototype.distinct=function(e){return this.except(i.empty(),e)};i.prototype.distinctUntilChanged=function(e){e=o.createLambda(e);var t=this;return new i(function(){var n,r;return new s(function(){n=t.getEnumerator()},function(){for(;n.moveNext();){const u=e(n.current());if(r!==u)return r=u,this.yieldReturn(n.current())}return this.yieldBreak()},function(){o.dispose(n)})})};i.prototype.except=function(e,t){t=o.createLambda(t);var n=this;return new i(function(){var r,u;return new s(function(){r=n.getEnumerator(),u=new R(t),i.from(e).forEach(function(a){u.add(a)})},function(){for(;r.moveNext();){const a=r.current();if(!u.contains(a))return u.add(a),this.yieldReturn(a)}return!1},function(){o.dispose(r)})})};i.prototype.intersect=function(e,t){t=o.createLambda(t);var n=this;return new i(function(){var r,u,a;return new s(function(){r=n.getEnumerator(),u=new R(t),i.from(e).forEach(function(f){u.add(f)}),a=new R(t)},function(){for(;r.moveNext();){const f=r.current();if(!a.contains(f)&&u.contains(f))return a.add(f),this.yieldReturn(f)}return!1},function(){o.dispose(r)})})};i.prototype.sequenceEqual=function(e,t){t=o.createLambda(t);var n=this.getEnumerator();try{const r=i.from(e).getEnumerator();try{for(;n.moveNext();)if(!r.moveNext()||t(n.current())!==t(r.current()))return!1;return!r.moveNext()}finally{o.dispose(r)}}finally{o.dispose(n)}};i.prototype.union=function(e,t){t=o.createLambda(t);var n=this;return new i(function(){var r,u,a;return new s(function(){r=n.getEnumerator(),a=new R(t)},function(){var f;if(u===void 0){for(;r.moveNext();)if(f=r.current(),!a.contains(f))return a.add(f),this.yieldReturn(f);u=i.from(e).getEnumerator()}for(;u.moveNext();)if(f=u.current(),!a.contains(f))return a.add(f),this.yieldReturn(f);return!1},function(){try{o.dispose(r)}finally{o.dispose(u)}})})};i.prototype.orderBy=function(e,t){return new w(this,e,t,!1)};i.prototype.orderByDescending=function(e,t){return new w(this,e,t,!0)};i.prototype.reverse=function(){var e=this;return new i(function(){var t,n;return new s(function(){t=e.toArray(),n=t.length},function(){return n>0?this.yieldReturn(t[--n]):!1},l.Blank)})};i.prototype.shuffle=function(){var e=this;return new i(function(){var t;return new s(function(){t=e.toArray()},function(){if(t.length>0){const n=Math.floor(Math.random()*t.length);return this.yieldReturn(t.splice(n,1)[0])}return!1},l.Blank)})};i.prototype.weightedSample=function(e){e=o.createLambda(e);var t=this;return new i(function(){var n,r=0;return new s(function(){n=t.choose(function(u){var a=e(u);return a<=0?null:(r+=a,{value:u,bound:r})}).toArray()},function(){if(n.length>0){const u=Math.floor(Math.random()*r)+1;let a=-1,f=n.length;for(;f-a>1;){const c=Math.floor((a+f)/2);n[c].bound>=u?f=c:a=c}return this.yieldReturn(n[f].value)}return this.yieldBreak()},l.Blank)})};i.prototype.groupBy=function(e,t,n,r){var u=this;return e=o.createLambda(e),t=o.createLambda(t),n!=null&&(n=o.createLambda(n)),r=o.createLambda(r),new i(function(){var a;return new s(function(){a=u.toLookup(e,t,r).toEnumerable().getEnumerator()},function(){for(;a.moveNext();)return n==null?this.yieldReturn(a.current()):this.yieldReturn(n(a.current().key(),a.current()));return!1},function(){o.dispose(a)})})};i.prototype.partitionBy=function(e,t,n,r){var u=this;e=o.createLambda(e),t=o.createLambda(t),r=o.createLambda(r);var a;return n==null?(a=!1,n=function(f,c){return new B(f,c)}):(a=!0,n=o.createLambda(n)),new i(function(){var f,c,p,h=[];return new s(function(){f=u.getEnumerator(),f.moveNext()&&(c=e(f.current()),p=r(c),h.push(t(f.current())))},function(){for(var y;(y=f.moveNext())==!0&&p===r(e(f.current()));)h.push(t(f.current()));if(h.length>0){const d=a?n(c,i.from(h)):n(c,h);return y?(c=e(f.current()),p=r(c),h=[t(f.current())]):h=[],this.yieldReturn(d)}return!1},function(){o.dispose(f)})})};i.prototype.buffer=function(e){var t=this;return new i(function(){var n;return new s(function(){n=t.getEnumerator()},function(){for(var r=[],u=0;n.moveNext();)if(r.push(n.current()),++u>=e)return this.yieldReturn(r);return r.length>0?this.yieldReturn(r):!1},function(){o.dispose(n)})})};i.prototype.aggregate=function(e,t,n){return n=o.createLambda(n),n(this.scan(e,t,n).last())};i.prototype.average=function(e){e=o.createLambda(e);var t=0,n=0;return this.forEach(function(r){t+=e(r),++n}),t/n};i.prototype.count=function(e){e=e==null?l.True:o.createLambda(e);var t=0;return this.forEach(function(n,r){e(n,r)&&++t}),t};i.prototype.max=function(e){return e==null&&(e=l.Identity),this.select(e).aggregate(function(t,n){return t>n?t:n})};i.prototype.min=function(e){return e==null&&(e=l.Identity),this.select(e).aggregate(function(t,n){return t<n?t:n})};i.prototype.maxBy=function(e){return e=o.createLambda(e),this.aggregate(function(t,n){return e(t)>e(n)?t:n})};i.prototype.minBy=function(e){return e=o.createLambda(e),this.aggregate(function(t,n){return e(t)<e(n)?t:n})};i.prototype.sum=function(e){return e==null&&(e=l.Identity),this.select(e).aggregate(0,function(t,n){return t+n})};i.prototype.elementAt=function(e){var t,n=!1;if(this.forEach(function(r,u){if(u==e)return t=r,n=!0,!1}),!n)throw new Error("index is less than 0 or greater than or equal to the number of elements in source.");return t};i.prototype.elementAtOrDefault=function(e,t){t===void 0&&(t=null);var n,r=!1;return this.forEach(function(u,a){if(a==e)return n=u,r=!0,!1}),r?n:t};i.prototype.first=function(e){if(e!=null)return this.where(e).first();var t,n=!1;if(this.forEach(function(r){return t=r,n=!0,!1}),!n)throw new Error("first:No element satisfies the condition.");return t};i.prototype.firstOrDefault=function(e,t){if(e!==void 0){if(typeof e===v.Function||typeof o.createLambda(e)===v.Function)return this.where(e).firstOrDefault(void 0,t);t=e}var n,r=!1;return this.forEach(function(u){return n=u,r=!0,!1}),r?n:t};i.prototype.last=function(e){if(e!=null)return this.where(e).last();var t,n=!1;if(this.forEach(function(r){n=!0,t=r}),!n)throw new Error("last:No element satisfies the condition.");return t};i.prototype.lastOrDefault=function(e,t){if(e!==void 0){if(typeof e===v.Function||typeof o.createLambda(e)===v.Function)return this.where(e).lastOrDefault(void 0,t);t=e}var n,r=!1;return this.forEach(function(u){r=!0,n=u}),r?n:t};i.prototype.single=function(e){if(e!=null)return this.where(e).single();var t,n=!1;if(this.forEach(function(r){if(!n)n=!0,t=r;else throw new Error("single:sequence contains more than one element.")}),!n)throw new Error("single:No element satisfies the condition.");return t};i.prototype.singleOrDefault=function(e,t){if(t===void 0&&(t=null),e!=null)return this.where(e).singleOrDefault(null,t);var n,r=!1;return this.forEach(function(u){if(!r)r=!0,n=u;else throw new Error("single:sequence contains more than one element.")}),r?n:t};i.prototype.skip=function(e){var t=this;return new i(function(){var n,r=0;return new s(function(){for(n=t.getEnumerator();r++<e&&n.moveNext(););},function(){return n.moveNext()?this.yieldReturn(n.current()):!1},function(){o.dispose(n)})})};i.prototype.skipWhile=function(e){e=o.createLambda(e);var t=this;return new i(function(){var n,r=0,u=!1;return new s(function(){n=t.getEnumerator()},function(){for(;!u;)if(n.moveNext()){if(!e(n.current(),r++))return u=!0,this.yieldReturn(n.current());continue}else return!1;return n.moveNext()?this.yieldReturn(n.current()):!1},function(){o.dispose(n)})})};i.prototype.take=function(e){var t=this;return new i(function(){var n,r=0;return new s(function(){n=t.getEnumerator()},function(){return r++<e&&n.moveNext()?this.yieldReturn(n.current()):!1},function(){o.dispose(n)})})};i.prototype.takeWhile=function(e){e=o.createLambda(e);var t=this;return new i(function(){var n,r=0;return new s(function(){n=t.getEnumerator()},function(){return n.moveNext()&&e(n.current(),r++)?this.yieldReturn(n.current()):!1},function(){o.dispose(n)})})};i.prototype.takeExceptLast=function(e){e==null&&(e=1);var t=this;return new i(function(){if(e<=0)return t.getEnumerator();var n,r=[];return new s(function(){n=t.getEnumerator()},function(){for(;n.moveNext();){if(r.length==e)return r.push(n.current()),this.yieldReturn(r.shift());r.push(n.current())}return!1},function(){o.dispose(n)})})};i.prototype.takeFromLast=function(e){if(e<=0||e==null)return i.empty();var t=this;return new i(function(){var n,r,u=[];return new s(function(){n=t.getEnumerator()},function(){for(;n.moveNext();)u.length==e&&u.shift(),u.push(n.current());return r==null&&(r=i.from(u).getEnumerator()),r.moveNext()?this.yieldReturn(r.current()):!1},function(){o.dispose(r)})})};i.prototype.indexOf=function(e){var t=null;return typeof e===v.Function?this.forEach(function(n,r){if(e(n,r))return t=r,!1}):this.forEach(function(n,r){if(n===e)return t=r,!1}),t!==null?t:-1};i.prototype.lastIndexOf=function(e){var t=-1;return typeof e===v.Function?this.forEach(function(n,r){e(n,r)&&(t=r)}):this.forEach(function(n,r){n===e&&(t=r)}),t};i.prototype.cast=function(){return this};i.prototype.asEnumerable=function(){return i.from(this)};i.prototype.toArray=function(){var e=[];return this.forEach(function(t){e.push(t)}),e};i.prototype.toLookup=function(e,t,n){e=o.createLambda(e),t=o.createLambda(t),n=o.createLambda(n);var r=new R(n);return this.forEach(function(u){var a=e(u),f=t(u),c=r.get(a);c!==void 0?c.push(f):r.add(a,[f])}),new C(r)};i.prototype.toObject=function(e,t){e=o.createLambda(e),t=o.createLambda(t);var n={};return this.forEach(function(r){n[e(r)]=t(r)}),n};i.prototype.toDictionary=function(e,t,n){e=o.createLambda(e),t=o.createLambda(t),n=o.createLambda(n);var r=new R(n);return this.forEach(function(u){r.add(e(u),t(u))}),r};i.prototype.toJSONString=function(e,t){if(typeof JSON===v.Undefined||JSON.stringify==null)throw new Error("toJSONString can't find JSON.stringify. This works native JSON support Browser or include json2.js");return JSON.stringify(this.toArray(),e,t)};i.prototype.toJoinedString=function(e,t){return e==null&&(e=""),t==null&&(t=l.Identity),this.select(t).toArray().join(e)};i.prototype.doAction=function(e){var t=this;return e=o.createLambda(e),new i(function(){var n,r=0;return new s(function(){n=t.getEnumerator()},function(){return n.moveNext()?(e(n.current(),r++),this.yieldReturn(n.current())):!1},function(){o.dispose(n)})})};i.prototype.forEach=function(e){e=o.createLambda(e);var t=0,n=this.getEnumerator();try{for(;n.moveNext()&&e(n.current(),t++)!==!1;);}finally{o.dispose(n)}};i.prototype.force=function(){var e=this.getEnumerator();try{for(;e.moveNext(););}finally{o.dispose(e)}};i.prototype.letBind=function(e){e=o.createLambda(e);var t=this;return new i(function(){var n;return new s(function(){n=i.from(e(t)).getEnumerator()},function(){return n.moveNext()?this.yieldReturn(n.current()):!1},function(){o.dispose(n)})})};i.prototype.share=function(){var e=this,t,n=!1;return new N(function(){return new s(function(){t==null&&(t=e.getEnumerator())},function(){if(n)throw new Error("enumerator is disposed");return t.moveNext()?this.yieldReturn(t.current()):!1},l.Blank)},function(){n=!0,o.dispose(t)})};i.prototype.memoize=function(){var e=this,t,n,r=!1;return new N(function(){var u=-1;return new s(function(){n==null&&(n=e.getEnumerator(),t=[])},function(){if(r)throw new Error("enumerator is disposed");return u++,t.length<=u?n.moveNext()?this.yieldReturn(t[u]=n.current()):!1:this.yieldReturn(t[u])},l.Blank)},function(){r=!0,o.dispose(n),t=null})};o.hasNativeIteratorSupport()&&(i.prototype[Symbol.iterator]=function(){return{enumerator:this.getEnumerator(),next:function(){return this.enumerator.moveNext()?{done:!1,value:this.enumerator.current()}:{done:!0}}}});i.prototype.catchError=function(e){e=o.createLambda(e);var t=this;return new i(function(){var n;return new s(function(){n=t.getEnumerator()},function(){try{return n.moveNext()?this.yieldReturn(n.current()):!1}catch(r){return e(r),!1}},function(){o.dispose(n)})})};i.prototype.finallyAction=function(e){e=o.createLambda(e);var t=this;return new i(function(){var n;return new s(function(){n=t.getEnumerator()},function(){return n.moveNext()?this.yieldReturn(n.current()):!1},function(){try{o.dispose(n)}finally{e()}})})};i.prototype.log=function(e){return e=o.createLambda(e),this.doAction(function(t){typeof console!==v.Undefined&&console.log(e(t))})};i.prototype.trace=function(e,t){return e==null&&(e="Trace"),t=o.createLambda(t),this.doAction(function(n){typeof console!==v.Undefined&&console.log(e,t(n))})};var w=function(e,t,n,r,u){this.source=e,this.keySelector=o.createLambda(t),this.descending=r,this.parent=u,n&&(this.comparer=o.createLambda(n))};w.prototype=new i;w.prototype.createOrderedEnumerable=function(e,t,n){return new w(this.source,e,t,n,this)};w.prototype.thenBy=function(e,t){return this.createOrderedEnumerable(e,t,!1)};w.prototype.thenByDescending=function(e,t){return this.createOrderedEnumerable(e,t,!0)};w.prototype.getEnumerator=function(){var e=this,t,n,r=0;return new s(function(){t=[],n=[],e.source.forEach(function(a,f){t.push(a),n.push(f)});var u=k.create(e,null);u.GenerateKeys(t),n.sort(function(a,f){return u.compare(a,f)})},function(){return r<n.length?this.yieldReturn(t[n[r++]]):!1},l.Blank)};var k=function(e,t,n,r){this.keySelector=e,this.descending=n,this.child=r,this.comparer=t,this.keys=null};k.create=function(e,t){var n=new k(e.keySelector,e.comparer,e.descending,t);return e.parent!=null?k.create(e.parent,n):n};k.prototype.GenerateKeys=function(e){var t=e.length,n=this.keySelector,r=new Array(t);for(let u=0;u<t;u++)r[u]=n(e[u]);this.keys=r,this.child!=null&&this.child.GenerateKeys(e)};k.prototype.compare=function(e,t){var n=this.comparer?this.comparer(this.keys[e],this.keys[t]):o.compare(this.keys[e],this.keys[t]);return n==0?this.child!=null?this.child.compare(e,t):o.compare(e,t):this.descending?-n:n};var N=function(e,t){this.dispose=t,i.call(this,e)};N.prototype=new i;var m=function(e){this.getSource=function(){return e}};m.prototype=new i;m.prototype.any=function(e){return e==null?this.getSource().length>0:i.prototype.any.apply(this,arguments)};m.prototype.count=function(e){return e==null?this.getSource().length:i.prototype.count.apply(this,arguments)};m.prototype.elementAt=function(e){var t=this.getSource();return 0<=e&&e<t.length?t[e]:i.prototype.elementAt.apply(this,arguments)};m.prototype.elementAtOrDefault=function(e,t){t===void 0&&(t=null);var n=this.getSource();return 0<=e&&e<n.length?n[e]:t};m.prototype.first=function(e){var t=this.getSource();return e==null&&t.length>0?t[0]:i.prototype.first.apply(this,arguments)};m.prototype.firstOrDefault=function(e,t){if(e!==void 0)return i.prototype.firstOrDefault.apply(this,arguments);t=e;var n=this.getSource();return n.length>0?n[0]:t};m.prototype.last=function(e){var t=this.getSource();return e==null&&t.length>0?t[t.length-1]:i.prototype.last.apply(this,arguments)};m.prototype.lastOrDefault=function(e,t){if(e!==void 0)return i.prototype.lastOrDefault.apply(this,arguments);t=e;var n=this.getSource();return n.length>0?n[n.length-1]:t};m.prototype.skip=function(e){var t=this.getSource();return new i(function(){var n;return new s(function(){n=e<0?0:e},function(){return n<t.length?this.yieldReturn(t[n++]):!1},l.Blank)})};m.prototype.takeExceptLast=function(e){return e==null&&(e=1),this.take(this.getSource().length-e)};m.prototype.takeFromLast=function(e){return this.skip(this.getSource().length-e)};m.prototype.reverse=function(){var e=this.getSource();return new i(function(){var t;return new s(function(){t=e.length},function(){return t>0?this.yieldReturn(e[--t]):!1},l.Blank)})};m.prototype.sequenceEqual=function(e,t){return(e instanceof m||e instanceof Array)&&t==null&&i.from(e).count()!=this.count()?!1:i.prototype.sequenceEqual.apply(this,arguments)};m.prototype.toJoinedString=function(e,t){var n=this.getSource();return t!=null||!(n instanceof Array)?i.prototype.toJoinedString.apply(this,arguments):(e==null&&(e=""),n.join(e))};m.prototype.getEnumerator=function(){var e=this.getSource(),t=-1;return{current:function(){return e[t]},moveNext:function(){return++t<e.length},dispose:l.Blank}};var b=function(e,t){this.prevSource=e,this.prevPredicate=t};b.prototype=new i;b.prototype.where=function(e){if(e=o.createLambda(e),e.length<=1){const t=this.prevPredicate,n=function(r){return t(r)&&e(r)};return new b(this.prevSource,n)}else return i.prototype.where.call(this,e)};b.prototype.select=function(e){return e=o.createLambda(e),e.length<=1?new x(this.prevSource,this.prevPredicate,e):i.prototype.select.call(this,e)};b.prototype.getEnumerator=function(){var e=this.prevPredicate,t=this.prevSource,n;return new s(function(){n=t.getEnumerator()},function(){for(;n.moveNext();)if(e(n.current()))return this.yieldReturn(n.current());return!1},function(){o.dispose(n)})};var x=function(e,t,n){this.prevSource=e,this.prevPredicate=t,this.prevSelector=n};x.prototype=new i;x.prototype.where=function(e){return e=o.createLambda(e),e.length<=1?new b(this,e):i.prototype.where.call(this,e)};x.prototype.select=function(e){if(e=o.createLambda(e),e.length<=1){const t=this.prevSelector,n=function(r){return e(t(r))};return new x(this.prevSource,this.prevPredicate,n)}else return i.prototype.select.call(this,e)};x.prototype.getEnumerator=function(){var e=this.prevPredicate,t=this.prevSelector,n=this.prevSource,r;return new s(function(){r=n.getEnumerator()},function(){for(;r.moveNext();)if(e==null||e(r.current()))return this.yieldReturn(t(r.current()));return!1},function(){o.dispose(r)})};var R=function(){var e=function(a,f){return Object.prototype.hasOwnProperty.call(a,f)},t=function(a){return a===null?"null":a===void 0?"undefined":typeof a.toString===v.Function?a.toString():Object.prototype.toString.call(a)},n=function(a,f){this.key=a,this.value=f,this.prev=null,this.next=null},r=function(){this.first=null,this.last=null};r.prototype={addLast:function(a){this.last!=null?(this.last.next=a,a.prev=this.last,this.last=a):this.first=this.last=a},replace:function(a,f){a.prev!=null?(a.prev.next=f,f.prev=a.prev):this.first=f,a.next!=null?(a.next.prev=f,f.next=a.next):this.last=f},remove:function(a){a.prev!=null?a.prev.next=a.next:this.first=a.next,a.next!=null?a.next.prev=a.prev:this.last=a.prev}};var u=function(a){this.countField=0,this.entryList=new r,this.buckets={},this.compareSelector=a??l.Identity};return u.prototype={add:function(a,f){var c=this.compareSelector(a),p=t(c),h=new n(a,f);if(e(this.buckets,p)){const y=this.buckets[p];for(let d=0;d<y.length;d++)if(this.compareSelector(y[d].key)===c){this.entryList.replace(y[d],h),y[d]=h;return}y.push(h)}else this.buckets[p]=[h];this.countField++,this.entryList.addLast(h)},get:function(a){var f=this.compareSelector(a),c=t(f);if(e(this.buckets,c)){var p=this.buckets[c];for(let h=0;h<p.length;h++){const y=p[h];if(this.compareSelector(y.key)===f)return y.value}}},set:function(a,f){var c=this.compareSelector(a),p=t(c);if(e(this.buckets,p)){const h=this.buckets[p];for(let y=0;y<h.length;y++)if(this.compareSelector(h[y].key)===c){const d=new n(a,f);return this.entryList.replace(h[y],d),h[y]=d,!0}}return!1},contains:function(a){var f=this.compareSelector(a),c=t(f);if(!e(this.buckets,c))return!1;var p=this.buckets[c];for(let h=0;h<p.length;h++)if(this.compareSelector(p[h].key)===f)return!0;return!1},clear:function(){this.countField=0,this.buckets={},this.entryList=new r},remove:function(a){var f=this.compareSelector(a),c=t(f);if(e(this.buckets,c)){var p=this.buckets[c];for(let h=0;h<p.length;h++)if(this.compareSelector(p[h].key)===f){this.entryList.remove(p[h]),p.splice(h,1),p.length==0&&delete this.buckets[c],this.countField--;return}}},count:function(){return this.countField},toEnumerable:function(){var a=this;return new i(function(){var f;return new s(function(){f=a.entryList.first},function(){if(f!=null){const c={key:f.key,value:f.value};return f=f.next,this.yieldReturn(c)}return!1},l.Blank)})}},u}(),C=function(e){this.count=function(){return e.count()},this.get=function(t){return i.from(e.get(t))},this.contains=function(t){return e.contains(t)},this.toEnumerable=function(){return e.toEnumerable().select(function(t){return new B(t.key,t.value)})}},B=function(e,t){this.key=function(){return e},m.call(this,t)};B.prototype=new m;var F=(e=>(e[e.NoTransfer=0]="NoTransfer",e[e.FromReceivingCard=1]="FromReceivingCard",e[e.FromGivenCard=2]="FromGivenCard",e[e.SetValue=3]="SetValue",e[e.FromOtherReceivingDurability=4]="FromOtherReceivingDurability",e[e.FromOtherGivenDurability=5]="FromOtherGivenDurability",e))(F||{});function U(e){let t=[];return O.map(n=>{e[n].Active&&t.push(e[n])}),t}function P(e,t,n){if(!e.AlternateNames)return null;for(const r of e.AlternateNames){let u={SpoilageTime:r.Conditions.SpoilageRange,UsageDurability:r.Conditions.UsageRange,FuelCapacity:r.Conditions.FuelRange,Progress:r.Conditions.ProgressRange,SpecialDurability1:r.Conditions.Special1Range,SpecialDurability2:r.Conditions.Special2Range,SpecialDurability3:r.Conditions.Special3Range,SpecialDurability4:r.Conditions.Special4Range,LiquidQuantity:r.Conditions.LiquidQuantityRange,[g.Spoilage]:r.Conditions.SpoilageRange,[g.Usage]:r.Conditions.UsageRange,[g.Fuel]:r.Conditions.FuelRange,[g.Progress]:r.Conditions.ProgressRange,[g.Special1]:r.Conditions.Special1Range,[g.Special2]:r.Conditions.Special2Range,[g.Special3]:r.Conditions.Special3Range,[g.Special4]:r.Conditions.Special4Range};if(u[t]&&u[t].x==n.x&&u[t].y==n.y)return r.Name}return null}function I(e,t){let n=null;return[{key:"Spoilage",valueKey:"SpoilageValue",cardKey:"SpoilageTime"},{key:"Usage",valueKey:"UsageValue",cardKey:"UsageDurability"},{key:"Fuel",valueKey:"FuelValue",cardKey:"FuelCapacity"},{key:"Progress",valueKey:"ProgressValue",cardKey:"Progress"},{key:"Special1",valueKey:"Special1Value",cardKey:"SpecialDurability1"},{key:"Special2",valueKey:"Special2Value",cardKey:"SpecialDurability2"},{key:"Special3",valueKey:"Special3Value",cardKey:"SpecialDurability3"},{key:"Special4",valueKey:"Special4Value",cardKey:"SpecialDurability4"}].forEach(({key:u,valueKey:a,cardKey:f})=>{if(t[u]!==F.NoTransfer){e[f];const p=t[a],h=P(e,g[u],{x:p,y:p});h&&(n=h)}}),n?{...e,zh:n.zh,en:n.en,ja:n.ja}:e}export{O as A,A as C,F as T,I as a,U as g,P as t};
